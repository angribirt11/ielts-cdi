<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>READING PASSAGE 2 ‚Äì The conquest of malaria in Italy</title>
<style>
:root{--brand:#2563eb;--ink:#111827;--bg:#f7f7fb;--ok:#16a34a;--bad:#dc2626;--muted:#6b7280}
*{box-sizing:border-box}body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:#111}
.container{display:flex;gap:20px;max-width:1200px;margin:0 auto;padding:20px 20px 96px}
.card{background:#fff;border-radius:12px;box-shadow:0 4px 14px rgba(0,0,0,.08);padding:20px;overflow:auto;max-height:90vh}
.passage{flex:1}.questions{flex:1}
h1{color:var(--ink);border-bottom:2px solid var(--brand);padding-bottom:10px;margin:0 0 14px}
h2{color:var(--brand);margin:22px 0 10px}.h3{margin:8px 0 0}
.muted{color:var(--muted)}
.timerWrap{position:fixed;top:16px;right:16px;display:flex;align-items:center;gap:8px;z-index:10}
.timer{background:var(--brand);color:#fff;padding:10px 14px;border-radius:8px;font-weight:700}
.tbtn{border:1px solid #e5e7eb;background:#fff;color:#111;padding:8px 10px;border-radius:8px;cursor:pointer}
.qsection{margin:14px 0 6px}.qblock{padding:14px;border:1px solid #e5e7eb;border-radius:12px;margin:12px 0}
.qhead{font-weight:600;margin-bottom:8px}.options{margin-top:8px}
.options label{display:block;margin:6px 0}
select,input[type="text"]{padding:8px;border-radius:8px;border:1px solid #e5e7eb;width:100%;max-width:520px}
.submit{background:var(--brand);color:#fff;border:0;padding:12px 18px;border-radius:8px;cursor:pointer;font-size:16px;margin-top:16px}
.results{display:none;margin-top:18px;background:#f8f9fa;border-radius:10px;padding:16px}
.results ul{list-style:none;padding:0;margin:8px 0 0}.results li{margin:6px 0;padding:8px;border-radius:8px}
.results li.ok{background:#ecfdf5;color:#065f46}.results li.bad{background:#fef2f2;color:#991b1b}
.results .meta{font-size:13px;color:var(--muted)}
.footerNav{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid #e5e7eb;padding:10px 12px;display:flex;flex-wrap:wrap;gap:8px;align-items:center;z-index:9}
.chip{border:1px solid #d1d5db;background:#fff;color:#111;padding:6px 10px;border-radius:999px;cursor:pointer;font-size:14px}
.chip.answered{border-color:#9ca3af;background:#f3f4f6}
.palette{position:fixed;background:#fff;padding:8px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,.12);display:none;z-index:9}
.hbtn{background:var(--brand);color:#fff;border:0;padding:6px 10px;border-radius:6px;margin:4px 4px 0 0;cursor:pointer}
.highlight{background:yellow}
.tg{position:fixed;bottom:96px;right:16px;background:#0088cc;color:#fff;border:0;padding:12px 16px;border-radius:9999px;display:flex;align-items:center;gap:8px;cursor:pointer;box-shadow:0 8px 20px rgba(0,136,204,.35)}
</style>
</head>
<body>
<div class="timerWrap">
  <div class="timer" id="timer">20:00</div>
  <button class="tbtn" id="pauseBtn">‚è∏Ô∏è Pause</button>
  <button class="tbtn" id="resumeBtn" disabled>‚ñ∂Ô∏è Resume</button>
</div>

<!-- highlight palettes -->
<div class="palette" id="pPalette">
  <button class="hbtn" data-color="yellow">Yellow</button>
  <button class="hbtn" data-color="lightgreen">Green</button>
  <button class="hbtn" data-color="lightblue">Blue</button>
  <button class="hbtn" data-color="pink">Pink</button>
  <button class="hbtn" data-color="orange">Orange</button>
  <button class="hbtn" id="clearPMarks">Clear</button>
</div>
<div class="palette" id="qPalette">
  <button class="hbtn" data-color="yellow">Yellow</button>
  <button class="hbtn" data-color="lightgreen">Green</button>
  <button class="hbtn" data-color="lightblue">Blue</button>
  <button class="hbtn" data-color="pink">Pink</button>
  <button class="hbtn" data-color="orange">Orange</button>
  <button class="hbtn" id="clearQMarks">Clear</button>
</div>

<div class="container">
  <div class="card passage" id="passageCard">
    <h1 id="title">READING PASSAGE 2 ‚Äì The conquest of malaria in Italy</h1>
    <div id="subtitle" class="muted">You should spend about 20 minutes on Questions 14‚Äì26.</div>

    <div id="passage">
      <h2>Reading Passage 2</h2>
      <h3>The conquest of malaria in Italy</h3>
      <p><em>A review of Frank M Snowden's masterly history of a country's fight to eradicate a deadly disease</em></p>

      <p><strong>A.</strong> The word ‚Äòmalaria‚Äô means ‚Äòbad air‚Äô in Italian, and this terrible disease marked the life of the people of that country for thousands of years. Yet by 1962, Italy was officially declared malaria-free, and it has remained so ever since. Frank Snowden‚Äôs study of this successful endeavour is a remarkable piece of historical work. Original, crystal clear, analytical and passionate, Snowden takes us to areas historians have rarely visited before.</p>

      <p><strong>B.</strong> Everybody now knows that malaria is carried by mosquitoes. But in the 19th century most experts subscribed to the theory of ‚Äòmiasma‚Äô or ‚Äòpoisoning of the air‚Äô. Others made a link between swamps, water and malaria, but did not make the further leap towards insects. The consequence of these theories was that little was done to combat the disease before the end of that century. The situation was so serious that from a total population of 25m Italians, 11m were ‚Äòpermanently at risk‚Äô. In warm, damp, malarial zones, the life expectancy of land workers was a terrifying 22.5 years. The economic impact of the disease was immense. Epidemics were blamed on people who originated from the hotter parts of Italy, given the widespread belief that malaria was hereditary.</p>

      <p><strong>C.</strong> One of the first breakthroughs in the war against malaria came in 1898 when the zoologist Giovanni Battista Grassi demonstrated that the micro-organisms causing the disease were carried in the digestive tract of the mosquito. By releasing mosquitoes into rooms to drink the blood of healthy human volunteers, Grassi was able to make the direct link between the insects and the disease. Definitive proof of this theory was obtained after an extraordinary series of experiments in Italy, where healthy people were introduced into malarial zones but kept free of mosquito bites ‚Äî and remained well. The recently formed Italian state at last had the necessary information to begin tackling the disease.</p>

      <p><strong>D.</strong> A complicated approach was adopted, which made use of quinine ‚Äî a drug obtained from tree bark which had long been used to combat fever, but was now seen as a crucial part of the war on malaria. Italy introduced a quinine law and a quinine tax in 1904, and the drug was administered to large numbers of rural workers. Despite its often terrible side effects, the drug was successful in limiting the spread of the disease, and in breaking cycles of infection. In addition, Italy set up rural health centres and invested heavily in education programmes. Malaria, as Snowden shows, was not just a medical problem, but a social and regional issue, and could only be defeated through multi-layered strategies.</p>

      <p><strong>E.</strong> It was originally decided to give quinine to all those in vulnerable regions ‚Äî even healthy people. However, peasants were often suspicious of medicine being forced upon them, and doctors were frequently met with hostility and stubborn refusal to accept the treatment offered. But despite the refusals, the strategy as a whole was hugely successful. Deaths from malaria fell by some 80% in the first decade of the 20th century and some areas escaped altogether from the scourge of the disease.</p>

      <p><strong>F.</strong> The 1915‚Äì18 war delayed the campaign, as funds were diverted to the battlefields. In the 1920s and 1930s the draining of the damp, unhealthy marshlands around Rome had a certain impact on the spread of malaria. However, as war swept through the drained lands in the 1940s, the disease returned with a vengeance. Yet the country‚Äôs leading malariologist Alberto Missiroli refused to order the distribution of quinine, so allowing the epidemic to spread unchecked. According to Snowden, he did this in order to create the ideal conditions for a new strategy, supported by the US Rockefeller Foundation ‚Äî a massive experiment involving the extermination of mosquitoes with the chemical DDT. It is estimated that more than a third of the inhabitants in the affected area contracted malaria and countless thousands died.</p>

      <p><strong>G.</strong> With the end of the war in 1945, the US government and the Rockefeller Foundation were free to experiment. DDT was sprayed from the air, and 3m Italians had their bodies covered with the chemical. The effects were immense, and by 1962 malaria was more or less gone from the whole country. One of the final victims to die of the disease in Italy was the popular cyclist, Fausto Coppi. He had contracted malaria in Africa in 1960, and the failure of doctors in Italy to spot the disease was a sign of the times. A few decades earlier, they would have immediately noticed the telltale signs; it was later claimed that a small dose of quinine would have saved his life.</p>

      <p><strong>H.</strong> As there are still more than 1m deaths every year from malaria worldwide, Snowden‚Äôs book also has contemporary relevance. This is a disease that affects every level of the societies where it is rampant. The economic miracle of the 1950s and 1960s which made Italy into a modern industrial nation would not have been possible without the eradication of malaria. Moreover, this book convincingly argues that the disease was ‚Äòan integral part of the big picture of modern Italian history‚Äô. This magnificent study, beautifully written and impeccably documented, deserves an audience beyond specialists in history, or in Italy.</p>
    </div>
  </div>

  <div class="card questions">
    <h1>Questions</h1>
    <div id="qroot"></div>
    <button class="submit" id="submitBtn">Submit Answers</button>
    <div class="results" id="results">
      <h2>Your Results</h2>
      <div id="score" class="meta"></div>
      <ul id="answers"></ul>
    </div>
  </div>
</div>

<div class="footerNav" id="footerNav"></div>
<button class="tg" id="tgBtn">üì¢ Join my Telegram</button>

<script>
const CONFIG={
  title:"READING PASSAGE 2 ‚Äì The conquest of malaria in Italy",
  subtitle:"You should spend about 20 minutes on Questions 14‚Äì26.",
  durationMinutes:20,
  telegramLink:"https://t.me/yourchannel",
  showFooterNavigator:true,
  sections:[
    { type:"gap", heading:"Questions 14‚Äì17", instructions:[
        "Complete the summary below.",
        "Choose NO MORE THAN TWO WORDS from the passage for each answer."
      ],
      items:[
        {id:14,prompt:"‚Ä¶failed to make the connection between malaria and ________.",correct:["insects"]},
        {id:15,prompt:"The most popular belief at the time was the ________ theory.",correct:["miasma"]},
        {id:16,prompt:"‚Ä¶malaria was a ________ disease.",correct:["hereditary"]},
        {id:17,prompt:"‚Ä¶rural regions, where ________ could be extremely short.",correct:["life expectancy"]}
      ]
    },
    { type:"tfn", heading:"Questions 18‚Äì20", instructions:[
        "Do the statements agree with Reading Passage 2?",
        "Choose TRUE / FALSE / NOT GIVEN."
      ],
      items:[
        {id:18,text:"The volunteers in Giovanni Battista Grassi's research came from all parts of Italy.",correct:"NOT GIVEN"},
        {id:19,text:"Experiments in Italy proved it was possible to remain healthy despite being in malarial zones.",correct:"TRUE"},
        {id:20,text:"In the early twentieth century, quinine was successfully administered to all inhabitants of vulnerable regions.",correct:"FALSE"}
      ]
    },
    { type:"matchAH", heading:"Questions 21‚Äì26", instructions:[
        "Reading Passage 2 has eight paragraphs, A‚ÄìH.",
        "Which paragraph contains the following information?"
      ],
      options:["A","B","C","D","E","F","G","H"],
      items:[
        {id:21,prompt:"A figure showing the dramatic results of an anti-malarial drug programme",correct:"E"},
        {id:22,prompt:"An important discovery about how malaria is spread",correct:"C"},
        {id:23,prompt:"Mention of an expert's decision not to halt the spread of the disease",correct:"F"},
        {id:24,prompt:"The significance of the malaria story for today's readers",correct:"H"},
        {id:25,prompt:"Examples of false assumptions which held back scientific understanding of malaria",correct:"B"},
        {id:26,prompt:"Reference to legislation to support the fight against malaria",correct:"D"}
      ]
    }
  ]
};

/* ---- RENDER & ENGINE (same as template) ---- */
document.getElementById('title').textContent=CONFIG.title;
document.getElementById('subtitle').textContent=CONFIG.subtitle||'';
const qroot=document.getElementById('qroot');const navIds=[];const answersMap={};const typesMap={};
function sectionHeader(t){const h=document.createElement('h2');h.className='qsection';h.textContent=t;return h;}
function renderGAP(sec){qroot.appendChild(sectionHeader(sec.heading));(sec.instructions||[]).forEach(tx=>{const p=document.createElement('p');p.className='muted';p.textContent=tx;qroot.appendChild(p);});sec.items.forEach(it=>{const b=document.createElement('div');b.className='qblock';b.id=`anchor-${it.id}`;b.innerHTML=`<div class="qhead"><strong>${it.id}.</strong> ${it.prompt}</div><div class="options"><input type="text" id="q${it.id}" placeholder="Your answer (‚â§ 2 words)"></div>`;qroot.appendChild(b);navIds.push(it.id);answersMap[it.id]=it.correct;typesMap[it.id]='gap';});}
function renderTFN(sec){qroot.appendChild(sectionHeader(sec.heading));(sec.instructions||[]).forEach(tx=>{const p=document.createElement('p');p.className='muted';p.textContent=tx;qroot.appendChild(p);});sec.items.forEach(it=>{const b=document.createElement('div');b.className='qblock';b.id=`anchor-${it.id}`;const opts=['TRUE','FALSE','NOT GIVEN'].map(v=>`<label><input type="radio" name="q${it.id}" value="${v}"> ${v}</label>`).join('');b.innerHTML=`<div class="qhead"><strong>${it.id}.</strong> ${it.text}</div><div class="options">${opts}</div>`;qroot.appendChild(b);navIds.push(it.id);answersMap[it.id]=it.correct;typesMap[it.id]='tfn';});}
function renderMatchAH(sec){qroot.appendChild(sectionHeader(sec.heading));(sec.instructions||[]).forEach(tx=>{const p=document.createElement('p');p.className='muted';p.textContent=tx;qroot.appendChild(p);});const legend=document.createElement('div');legend.className='qblock';legend.innerHTML=`<div class="qhead"><strong>Paragraphs</strong></div><div class="options">${sec.options.map(k=>`<div><b>${k}</b></div>`).join(' ')}</div>`;qroot.appendChild(legend);sec.items.forEach(it=>{const b=document.createElement('div');b.className='qblock';b.id=`anchor-${it.id}`;const sel=`<select id="q${it.id}" name="q${it.id}"><option value="">‚Äî</option>${sec.options.map(k=>`<option value="${k}">${k}</option>`).join('')}</select>`;b.innerHTML=`<div class="qhead"><strong>${it.id}.</strong> ${it.prompt}</div><div class="options">${sel}</div>`;qroot.appendChild(b);navIds.push(it.id);answersMap[it.id]=it.correct;typesMap[it.id]='match';});}
CONFIG.sections.forEach(sec=>{if(sec.type==='gap')renderGAP(sec);if(sec.type==='tfn')renderTFN(sec);if(sec.type==='matchAH')renderMatchAH(sec);});
const footerNav=document.getElementById('footerNav');(function(){footerNav.innerHTML='<strong class="muted">Questions:</strong>';[...new Set(navIds)].sort((a,b)=>a-b).forEach(id=>{const chip=document.createElement('button');chip.className='chip';chip.id=`chip-${id}`;chip.textContent=id;chip.addEventListener('click',()=>{document.getElementById(`anchor-${id}`).scrollIntoView({behavior:'smooth',block:'center'});});footerNav.appendChild(chip);});})();
function markChipAnswered(id,answered){const chip=document.getElementById(`chip-${id}`);if(chip)chip.classList.toggle('answered',!!answered);}
document.addEventListener('change',e=>{const m=String(e.target.name||e.target.id||'').match(/q(\d+)/);const id=m?+m[1]:null;if(!id)return;const answered=(e.target.type==='radio')?!!document.querySelector(`input[name='q${id}']:checked`):(e.target.value.trim().length>0);markChipAnswered(id,answered);});
let timeLeft=Math.max(1,+CONFIG.durationMinutes||20)*60;const timer=document.getElementById('timer');const pauseBtn=document.getElementById('pauseBtn');const resumeBtn=document.getElementById('resumeBtn');let paused=false,iv;
const fmt=s=>`${String(Math.floor(s/60)).padStart(2,'0')}:${String(s%60).padStart(2,'0')}`;
function startTick(){if(iv)clearInterval(iv);iv=setInterval(()=>{if(paused)return;timer.textContent=fmt(timeLeft);if(timeLeft<=0){clearInterval(iv);alert("Time's up! Submitting.");submit();}timeLeft--;},1000);}
timer.textContent=fmt(timeLeft);startTick();pauseBtn.addEventListener('click',()=>{paused=true;pauseBtn.disabled=true;resumeBtn.disabled=false;});resumeBtn.addEventListener('click',()=>{paused=false;pauseBtn.disabled=false;resumeBtn.disabled=true;});
document.getElementById('submitBtn').addEventListener('click',submit);
function norm(s){return (s||'').trim().replace(/\s+/g,' ').toLowerCase();}
function acceptableGap(u,correctList){const t=norm(u);return correctList.some(k=>norm(k)===t);}
function tfnEq(u,k){u=norm(u);k=norm(k);return u===k||(u==='t'&&k==='true')||(u==='f'&&k==='false')||(u==='ng'&&k==='not given');}
function submit(){paused=true;pauseBtn.disabled=true;resumeBtn.disabled=false;let total=0,graded=0,correctCount=0;const out=[];Object.keys(answersMap).map(Number).sort((a,b)=>a-b).forEach(id=>{total++;const type=typesMap[id];let user='',ok=false;if(type==='tfn'){const p=document.querySelector(`input[name="q${id}"]:checked`);user=p?p.value:'';ok=tfnEq(user,answersMap[id]);}else if(type==='gap'){const el=document.getElementById('q'+id);user=el?el.value:'';ok=acceptableGap(user,Array.isArray(answersMap[id])?answersMap[id]:[answersMap[id]]);}else if(type==='match'){const el=document.getElementById('q'+id);user=el?el.value:'';ok=norm(user)===norm(answersMap[id]);}if(user)graded++;if(ok)correctCount++;out.push({id,status:ok?'‚úì Correct':'‚úó Incorrect',user:user||'No answer',corr:String(Array.isArray(answersMap[id])?answersMap[id][0]:answersMap[id])});});
document.getElementById('score').innerHTML=`Graded ${graded} of ${total} ‚Ä¢ Score: ${correctCount}/${graded||total}`;
document.getElementById('answers').innerHTML=out.map(it=>`<li class="${/Correct/.test(it.status)?'ok':'bad'}">Q${it.id}: ${it.status} ‚Äî Your: <b>${it.user}</b> | Correct: <b>${it.corr}</b></li>`).join('');
document.getElementById('results').style.display='block';document.getElementById('results').scrollIntoView({behavior:'smooth'});}
const passageCard=document.getElementById('passageCard');const pPalette=document.getElementById('pPalette');
passageCard.addEventListener('mouseup',e=>{const sel=window.getSelection();if(!sel||sel.toString().trim().length===0)return;if(!passageCard.contains(sel.getRangeAt(0).commonAncestorContainer))return;const r=passageCard.getBoundingClientRect(),x=Math.min(e.clientX-r.left,r.width-10),y=Math.max(0,e.clientY-r.top-40);pPalette.style.left=(r.left+x)+'px';pPalette.style.top=(r.top+y)+'px';pPalette.style.display='block';});
document.addEventListener('mousedown',e=>{if(!pPalette.contains(e.target))pPalette.style.display='none';});
pPalette.querySelectorAll('.hbtn[data-color]').forEach(btn=>btn.addEventListener('click',()=>{markSelection(btn.dataset.color,passageCard);pPalette.style.display='none';}));
document.getElementById('clearPMarks').addEventListener('click',()=>{passageCard.querySelectorAll('span.highlight').forEach(n=>{const p=n.parentNode;while(n.firstChild)p.insertBefore(n.firstChild,n);p.removeChild(n);p.normalize();});pPalette.style.display='none';});
const qCard=document.querySelector('.card.questions');const qPalette=document.getElementById('qPalette');
qCard.addEventListener('mouseup',e=>{const sel=window.getSelection();if(!sel||sel.toString().trim().length===0)return;if(!qCard.contains(sel.getRangeAt(0).commonAncestorContainer))return;const node=sel.getRangeAt(0).commonAncestorContainer.nodeType===1?sel.getRangeAt(0).commonAncestorContainer:sel.getRangeAt(0).commonAncestorContainer.parentNode;if(node.closest&&node.closest('input,textarea,select'))return;const r=qCard.getBoundingClientRect(),x=Math.min(e.clientX-r.left,r.width-10),y=Math.max(0,e.clientY-r.top-40);qPalette.style.left=(r.left+x)+'px';qPalette.style.top=(r.top+y)+'px';qPalette.style.display='block';});
document.addEventListener('mousedown',e=>{if(!qPalette.contains(e.target))qPalette.style.display='none';});
qPalette.querySelectorAll('.hbtn[data-color]').forEach(btn=>btn.addEventListener('click',()=>{markSelection(btn.dataset.color,qCard);qPalette.style.display='none';}));
document.getElementById('clearQMarks').addEventListener('click',()=>{qCard.querySelectorAll('span.highlight').forEach(n=>{const p=n.parentNode;while(n.firstChild)p.insertBefore(n.firstChild,n);p.removeChild(n);p.normalize();});qPalette.style.display='none';});
function markSelection(color,scope){const sel=window.getSelection();if(!sel||!sel.rangeCount)return;const range=sel.getRangeAt(0);if(!scope.contains(range.commonAncestorContainer))return;const container=range.commonAncestorContainer.nodeType===1?range.commonAncestorContainer:range.commonAncestorContainer.parentNode;if(container.closest&&container.closest('input, textarea, select'))return;const frag=range.extractContents();const span=document.createElement('span');span.className='highlight';span.style.backgroundColor=color;span.appendChild(frag);range.insertNode(span);sel.removeAllRanges();}
document.querySelector('.tg').addEventListener('click',()=>window.open(CONFIG.telegramLink,'_blank'));
</script>
</body>
</html>
