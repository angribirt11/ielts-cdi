<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Reading Passage 2 ‚Äì Last man standing</title>
<style>
  :root{--brand:#2563eb;--ink:#111827;--bg:#f7f7fb;--ok:#16a34a;--bad:#dc2626;--muted:#6b7280}
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:#111}
  .container{display:flex;gap:20px;max-width:1200px;margin:0 auto;padding:20px 20px 96px}
  .card{background:#fff;border-radius:12px;box-shadow:0 4px 14px rgba(0,0,0,.08);padding:20px;overflow:auto;max-height:90vh}
  .passage{flex:1}
  .questions{flex:1}
  h1{color:var(--ink);border-bottom:2px solid var(--brand);padding-bottom:10px;margin:0 0 14px}
  h2{color:var(--brand);margin:22px 0 10px}
  .muted{color:var(--muted)}
  /* Timer */
  .timerWrap{position:fixed;top:16px;right:16px;display:flex;align-items:center;gap:8px;z-index:10}
  .timer{background:var(--brand);color:#fff;padding:10px 14px;border-radius:8px;font-weight:700}
  .tbtn{border:1px solid #e5e7eb;background:#fff;color:#111;padding:8px 10px;border-radius:8px;cursor:pointer}
  /* Questions */
  .qsection{margin:14px 0 6px}
  .qblock{padding:14px;border:1px solid #e5e7eb;border-radius:12px;margin:12px 0}
  .qhead{font-weight:600;margin-bottom:8px}
  .options{margin-top:8px}
  .options label{display:block;margin:6px 0}
  select,input[type="text"]{padding:8px;border-radius:8px;border:1px solid #e5e7eb;width:100%;max-width:420px}
  .submit{background:var(--brand);color:#fff;border:0;padding:12px 18px;border-radius:8px;cursor:pointer;font-size:16px;margin-top:16px}
  .submit:hover{filter:brightness(.95)}
  /* Results */
  .results{display:none;margin-top:18px;background:#f8f9fa;border-radius:10px;padding:16px}
  .results ul{list-style:none;padding:0;margin:8px 0 0}
  .results li{margin:6px 0;padding:8px;border-radius:8px}
  .results li.ok{background:#ecfdf5;color:#065f46}
  .results li.bad{background:#fef2f2;color:#991b1b}
  .results .meta{font-size:13px;color:var(--muted)}
  /* Footer chips */
  .footerNav{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid #e5e7eb;padding:10px 12px;display:flex;flex-wrap:wrap;gap:8px;align-items:center;z-index:9}
  .chip{border:1px solid #d1d5db;background:#fff;color:#111;padding:6px 10px;border-radius:999px;cursor:pointer;font-size:14px}
  .chip.answered{border-color:#9ca3af;background:#f3f4f6}
  /* Highlighters */
  .palette{position:fixed;background:#fff;padding:8px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,.12);display:none;z-index:9}
  .hbtn{background:var(--brand);color:#fff;border:0;padding:6px 10px;border-radius:6px;margin:4px 4px 0 0;cursor:pointer}
  .highlight{background:yellow}
  .tg{position:fixed;bottom:96px;right:16px;background:#0088cc;color:#fff;border:0;padding:12px 16px;border-radius:9999px;display:flex;align-items:center;gap:8px;cursor:pointer;box-shadow:0 8px 20px rgba(0,136,204,.35)}
</style>
</head>
<body>
  <div class="timerWrap">
    <div class="timer" id="timer">20:00</div>
    <button class="tbtn" id="pauseBtn">‚è∏Ô∏è Pause</button>
    <button class="tbtn" id="resumeBtn" disabled>‚ñ∂Ô∏è Resume</button>
  </div>

  <!-- Highlight palettes -->
  <div class="palette" id="pPalette">
    <button class="hbtn" data-color="yellow">Yellow</button>
    <button class="hbtn" data-color="lightgreen">Green</button>
    <button class="hbtn" data-color="lightblue">Blue</button>
    <button class="hbtn" data-color="pink">Pink</button>
    <button class="hbtn" data-color="orange">Orange</button>
    <button class="hbtn" id="clearPMarks">Clear</button>
  </div>
  <div class="palette" id="qPalette">
    <button class="hbtn" data-color="yellow">Yellow</button>
    <button class="hbtn" data-color="lightgreen">Green</button>
    <button class="hbtn" data-color="lightblue">Blue</button>
    <button class="hbtn" data-color="pink">Pink</button>
    <button class="hbtn" data-color="orange">Orange</button>
    <button class="hbtn" id="clearQMarks">Clear</button>
  </div>

  <div class="container">
    <div class="card passage" id="passageCard">
      <h1 id="title"></h1>
      <div id="subtitle" class="muted"></div>
      <div id="passage">
        <h2>Reading Passage 2</h2>

        <h3>Last man standing</h3>
        <p><em>Some 50,000 years ago, Homo sapiens beat other hominids to become the only surviving species.</em></p>

        <p><strong>A</strong> Today, there are over seven billion people living –æ–ø Earth. No other species has exerted –∞5 much
influence over the planet as us. But turn the clock back 80,000 years and we were one of a
number of species roaming the Earth. –û–∏–≥ own species, Homo sapiens (Latin for 'wise man'), was
most successful in Africa. In western Eurasia, the Neanderthals dominated, while Homo erectus
may have lived —Ç Indonesia. Meanwhile, –∞–ø unusual finger bone –∞–ø–∞ tooth, discovered in
Denisova cave in Siberia in 2008, have led scientists to believe that yet another human population
‚Äî the Denisovans ‚Äî may also have been widespread across Asia. Somewhere along the line,
these other human species died out, leaving Homo sapiens as the sole survivor. So what made
us the winners in the battle for survival? </p>

        <p><strong>B</strong> Some 74,000 years ago, the Toba 'supervolcano‚Äô –æ–ø the Indonesian island of Sumatra erupted.
The scale of the event was so great that ash from the eruption was flung as far as eastern India,
more than 2,000 kilometers away. Oxford archaeologist Mike Petraglia and his team have
uncovered thousands of stone tools buried underneath the Toba ash. The mix of hand axes and
spear tips have led Petraglia to speculate that Homo sapiens and Homo erectus were both living
in eastern India prior to the Toba eruption. Based on careful examination of the tools and dating
of the sediment layers where they were found, Petraglia and his team suggest that Homo sapiens
arrived –ø eastern India around 78,000 years ago, migrating out of Africa –∞–ø–∞ across Arabia during
–∞ favourable climate period. After their arrival, –µ simple tools belonging to Homo erectus seemed
to lessen in number and eventually disappear completely. 'We think that Homo sapiens had a
more efficient hunting technology, which could have given them the edge,' says Petraglia.
‚ÄòWhether the eruption of Toba also played –∞ role in the extinction of the Homo erectus-like species
is unclear to us.‚Äô</p>

        <p><strong>C</strong>  Some 45,000 years later, another fight for survival took place. This time, –µ location was Europe
–∞–ø–∞ the protagonists were another species, the Neanderthals. They were –∞ highly successful
species that dominated the European landscape for 300,000 years. Yet within just –∞ few thousand
years –æ! the arrival of Homo sapiens, their numbers plummeted. They eventually disappeared
from the landscape around 30,000 years ago, with their last known refuge being southern –Æ–µ–ø–∞,
including Gibraltar. Initially, Homo sapiens and Neanderthals lived alongside each other and had
–ø–æ reason to compete. But then Europe's climate swung into –∞ cold, inhospitable, dry phase.
'Neanderthal –∞–ø–∞ Homo sapiens populations had 10 retreat 10 refugia (pockets of habitable land).
This heightened competition between the two groups,‚Äô explains Chris Stringer, anthropologist –∞!
the Natural History Museum in London. </p>

        <p><strong>D</strong> Both species were strong and stockier than the average human today, but Neanderthals were
particularly robust. ‚ÄòTheir skeletons show that they had broad shoulders –∞–ø–∞ thick necks,' says
Stringer. '–ù–æ—Ç–æ sapiens, –æ–ø the other hand, had longer forearms, which undoubtedly enabled
them 10 throw –∞ spear from some distance, with less danger –∞–ø–∞ using relatively little energy,‚Äô
explains Stringer. This long-range ability may have given Homo sapiens an advantage in hunting.
When it came 10 keeping warm, Homo sapiens had another skill: weaving –∞–ø–∞ sewing.
Archaeologists have uncovered simple needles fashioned from ivory and bone alongside Homo
sapiens, dating as far back as 35,000 years ago. ‚ÄòUsing this technology, we could use animal
skins 10 make ourselves tents, warm clothes and fur boots," says Stringer. In contrast,
Neanderthals never seemed 10 master sewing skills, instead relying –æ–ø pinning skins together
with thorns. </p>

        <p><strong>E</strong> Some –æ! these differences –ø behavior may have emerged because the two species thought in
different ways. By comparing skull shapes, archaeologists have shown that Homo sapiens had a
more developed temporal lobe ‚Äî the regions –∞{ the side –æ! the brain, associated with listening,
language –∞–ø–∞ long-term memory. ‚ÄòWe think that Homo sapiens had –∞ significantly more complex
language than Neanderthals and were able to comprehend and discuss concepts such as the
distant past –∞–ø–∞ future,' says Stringer. Penny Spikins, –∞–ø archaeologist at the University of York,
has recently suggested that Homo sapiens may also have had a greater diversity of brain types
than Neanderthals. ‚ÄòOur research indicates that high-precision tools, new hunting technologies
and the development of symbolic communication may all have come about because they were
willing to include people with "different‚Äù minds –∞–ø–∞ specialised roles –ø their society,‚Äù she explains.
‚ÄòWe see similar kinds of injuries –æ–ø male –∞–ø–∞ female Neanderthal skeletons, implying there was
no such division of labour,‚Äù says Spikins. 
 </p>

        <p><strong>F</strong> Thus by around 30,000 years ago, —Ç–∞–ø—É talents –∞–ø–∞ traits were well established –ø Homo sapiens
societies but still absent from Neanderthal communities. Stringer thinks that the Neanderthals
were just living in the wrong place –∞{ the wrong time. ‚ÄúThey had 10 compete with Homo sapiens
during a phase of very unstable climate across Europe. During each rapid climate fluctuation,
they may have suffered greater losses of people than Homo sapiens, and thus were slowly worn
down,‚Äô he says. –ï –µ climate had remained stable throughout, they might still be here."</p>
      </div>
    </div>

    <div class="card questions">
      <h1>Questions</h1>
      <div id="qroot"></div>
      <button class="submit" id="submitBtn">Submit Answers</button>
      <div class="results" id="results">
        <h2>Your Results</h2>
        <div id="score" class="meta"></div>
        <ul id="answers"></ul>
      </div>
    </div>
  </div>

  <div class="footerNav" id="footerNav"></div>
  <button class="tg" id="tgBtn">üì¢ Join my Telegram</button>

<script>
/* =======================
   CONFIG
   ======================= */
const CONFIG = {
  title: "READING PASSAGE 2 ‚Äì Last man standing",
  subtitle: "You should spend about 20 minutes on Questions 14‚Äì26.",
  durationMinutes: 20,
  telegramLink: "https://t.me/yourchannel",
  showFooterNavigator: true,

  sections: [
    /* 14‚Äì18: Which paragraph A‚ÄìG */
    {
      type: "locate",
      heading: "Questions 14‚Äì18",
      instructions: ["Which paragraph contains the following information? Choose A‚ÄìG."],
      items: [
        { id: 14, prompt: "a comparison of physical features of Neanderthals and Homo sapiens", correct: "D" },
        { id: 15, prompt: "reference to objects that were once used for trade", correct: "E" },
        { id: 16, prompt: "evidence for the existence of a previously unknown human species", correct: "A" },
        { id: 17, prompt: "the role played by chance in the downfall of Neanderthals", correct: "G" },
        { id: 18, prompt: "the final geographical location of Neanderthals", correct: "C" }
      ]
    },

    /* 19‚Äì22: Sentence completion (NO MORE THAN THREE WORDS) */
    {
      type: "gap",
      heading: "Questions 19‚Äì22",
      instructions: ["Complete the sentences below. NO MORE THAN THREE WORDS."],
      items: [
        { id: 19, prompt: "Analysis of stone tools and ________ enabled Petraglia's team to suggest an arrival date for Homo sapiens in eastern India.", correct: "sediment layers" },
        { id: 20, prompt: "Homo sapiens used both ________ to make sewing implements.", correct: "ivory and bone" },
        { id: 21, prompt: "Neanderthals‚Äô territorial behaviour limited their ability to acquire resources and discover ________.", correct: "new technologies" },
        { id: 22, prompt: "Archaeologists examined ________ to gain insight into language and thought.", correct: "skull shapes" }
      ]
    },

    /* 23‚Äì26: Matching researchers A‚ÄìC */
    {
      type: "match",
      heading: "Questions 23‚Äì26",
      instructions: [
        "Match each statement with the correct researcher.",
        "A: Mike Petraglia   B: Chris Stringer   C: Penny Spikins"
      ],
      items: [
        { id: 23, text: "No evidence that Neanderthal communities allocated tasks to different members.", correct: "C" },
        { id: 24, text: "Homo sapiens may have been able to plan ahead.", correct: "B" },
        { id: 25, text: "Unclear whether a sudden natural disaster contributed to the loss of a human species.", correct: "A" },
        { id: 26, text: "Environmental conditions restricted where Homo sapiens and Neanderthals could live.", correct: "B" }
      ]
    }
  ]
};

/* =======================
   RENDER
   ======================= */
document.getElementById('title').textContent = CONFIG.title;
document.getElementById('subtitle').textContent = CONFIG.subtitle || '';

const qroot = document.getElementById('qroot');
const navIds = [];
const answersMap = {};

function sectionHeader(t){ const h=document.createElement('h2'); h.className='qsection'; h.textContent=t; return h; }

/* Locate A‚ÄìG */
function renderLocate(sec){
  qroot.appendChild(sectionHeader(sec.heading));
  (sec.instructions||[]).forEach(tx=>{ const p=document.createElement('p'); p.className='muted'; p.textContent=tx; qroot.appendChild(p); });

  const letters = ['A','B','C','D','E','F','G'];
  sec.items.forEach(it=>{
      const b=document.createElement('div'); b.className='qblock'; b.id=`anchor-${it.id}`;
      const head=document.createElement('div'); head.className='qhead'; head.innerHTML=`<strong>${it.id}.</strong> ${it.prompt}`;
      const o=document.createElement('div'); o.className='options';
      o.innerHTML = letters.map(k=>`<label><input type="radio" name="q${it.id}" value="${k}"> ${k}</label>`).join('');
      b.appendChild(head); b.appendChild(o); qroot.appendChild(b);
      navIds.push(it.id); answersMap[it.id]=it.correct||'';
  });
}

/* Gap-fill */
function renderGap(sec){
  qroot.appendChild(sectionHeader(sec.heading));
  (sec.instructions||[]).forEach(tx=>{ const p=document.createElement('p'); p.className='muted'; p.textContent=tx; qroot.appendChild(p); });
  sec.items.forEach(it=>{
    const b=document.createElement('div'); b.className='qblock'; b.id=`anchor-${it.id}`;
    b.innerHTML = `<div class="qhead"><strong>${it.id}.</strong> ${it.prompt}</div>
                   <div class="options"><input type="text" id="q${it.id}" placeholder="your answer"></div>`;
    qroot.appendChild(b); navIds.push(it.id); answersMap[it.id]=it.correct||'';
  });
}

/* Matching A/B/C */
function renderMatch(sec){
  qroot.appendChild(sectionHeader(sec.heading));
  (sec.instructions||[]).forEach(tx=>{ const p=document.createElement('p'); p.className='muted'; p.textContent=tx; qroot.appendChild(p); });
  sec.items.forEach(it=>{
    const b=document.createElement('div'); b.className='qblock'; b.id=`anchor-${it.id}`;
    b.innerHTML = `<div class="qhead"><strong>${it.id}.</strong> ${it.text}</div>
      <div class="options">
        <label><input type="radio" name="q${it.id}" value="A"> A (Mike Petraglia)</label>
        <label><input type="radio" name="q${it.id}" value="B"> B (Chris Stringer)</label>
        <label><input type="radio" name="q${it.id}" value="C"> C (Penny Spikins)</label>
      </div>`;
    qroot.appendChild(b); navIds.push(it.id); answersMap[it.id]=it.correct||'';
  });
}

/* Build UI */
CONFIG.sections.forEach(sec=>{
  if (sec.type==='locate') renderLocate(sec);
  if (sec.type==='gap') renderGap(sec);
  if (sec.type==='match') renderMatch(sec);
});

/* Footer chips */
const footerNav = document.getElementById('footerNav');
(function buildFooter(){
  if (!CONFIG.showFooterNavigator){ footerNav.style.display='none'; return; }
  footerNav.innerHTML = '<strong class="muted">Questions:</strong>';
  [...new Set(navIds)].sort((a,b)=>a-b).forEach(id=>{
    const chip = document.createElement('button'); chip.className='chip'; chip.id=`chip-${id}`; chip.textContent=id;
    chip.addEventListener('click',()=>{ document.getElementById(`anchor-${id}`).scrollIntoView({behavior:'smooth',block:'center'}); });
    footerNav.appendChild(chip);
  });
})();
function markChipAnswered(id, answered){
  const chip=document.getElementById(`chip-${id}`); if (chip) chip.classList.toggle('answered', !!answered);
}
document.addEventListener('change',(e)=>{
  const m=String(e.target.name||e.target.id||'').match(/q(\d+)/);
  const id=m?+m[1]:null; if(!id) return;
  const answered=(e.target.type==='radio') ? (!!document.querySelector(`input[name='q${id}']:checked`))
                 : (e.target.value.trim().length>0);
  markChipAnswered(id, answered);
});

/* Timer */
let timeLeft=Math.max(1,+CONFIG.durationMinutes||20)*60;
const timer=document.getElementById('timer');
const pauseBtn=document.getElementById('pauseBtn');
const resumeBtn=document.getElementById('resumeBtn');
let paused=false, iv;
const fmt=s=>`${String(Math.floor(s/60)).padStart(2,'0')}:${String(s%60).padStart(2,'0')}`;
function startTick(){ if(iv) clearInterval(iv);
  iv=setInterval(()=>{ if(paused) return; timer.textContent=fmt(timeLeft); if(timeLeft<=0){ clearInterval(iv); alert("Time's up! Submitting."); submit(); } timeLeft--; },1000);
}
timer.textContent=fmt(timeLeft); startTick();
pauseBtn.addEventListener('click',()=>{ paused=true; pauseBtn.disabled=true; resumeBtn.disabled=false; });
resumeBtn.addEventListener('click',()=>{ paused=false; pauseBtn.disabled=false; resumeBtn.disabled=true; });

/* Submit & grading */
document.getElementById('submitBtn').addEventListener('click', submit);
function submit(){
  paused=true; pauseBtn.disabled=true; resumeBtn.disabled=false;
  let total=0, graded=0, correctCount=0;
  const itemsOut=[];
  const ids=Object.keys(answersMap);

  ids.forEach(key=>{
    const ans=answersMap[key];
    const label=key;
    let user='';
    const picked=document.querySelector(`input[name="q${key}"]:checked`);
    if(picked){ user=picked.value; }
    else if(document.getElementById('q'+key)){ user=document.getElementById('q'+key).value; }
    const shown=user||'No answer';

    if(String(ans).trim()===''){ total++; itemsOut.push({label, status:'‚Äî not graded ‚Äî', user:shown, correct:'(no key)'}); return; }

    total++; graded++;
    const ok=shown.trim().toUpperCase()===String(ans).trim().toUpperCase();
    if(ok) correctCount++;
    itemsOut.push({label, status: ok? '‚úì Correct' : '‚úó Incorrect', user:shown, correct:String(ans)});
  });

  document.getElementById('score').innerHTML=`Graded ${graded} of ${total} ‚Ä¢ Score: ${correctCount}/${graded}`;
  document.getElementById('answers').innerHTML=itemsOut.map(it=>`<li class="${/Correct/.test(it.status)?'ok':'bad'}">Q${it.label}: ${it.status} ‚Äî Your: <b>${it.user}</b> | Correct: <b>${it.correct}</b></li>`).join('');
  const r=document.getElementById('results'); r.style.display='block'; r.scrollIntoView({behavior:'smooth'});
}

/* Highlight ‚Äì Passage */
const passageCard=document.getElementById('passageCard');
const pPalette=document.getElementById('pPalette');
passageCard.addEventListener('mouseup',(e)=>{
  const sel=window.getSelection(); if(!sel||sel.toString().trim().length===0) return;
  if(!passageCard.contains(sel.getRangeAt(0).commonAncestorContainer)) return;
  const r=passageCard.getBoundingClientRect(), x=Math.min(e.clientX-r.left,r.width-10), y=Math.max(0,e.clientY-r.top-40);
  pPalette.style.left=(r.left+x)+'px'; pPalette.style.top=(r.top+y)+'px'; pPalette.style.display='block';
});
document.addEventListener('mousedown',(e)=>{ if(!pPalette.contains(e.target)) pPalette.style.display='none'; });
pPalette.querySelectorAll('.hbtn[data-color]').forEach(btn=>{
  btn.addEventListener('click',()=>{ markSelection(btn.dataset.color, passageCard); pPalette.style.display='none'; });
});
document.getElementById('clearPMarks').addEventListener('click',()=>{
  passageCard.querySelectorAll('span.highlight').forEach(n=>{ const p=n.parentNode; while(n.firstChild) p.insertBefore(n.firstChild,n); p.removeChild(n); p.normalize(); });
  pPalette.style.display='none';
});

/* Highlight ‚Äì Questions */
const qCard=document.querySelector('.card.questions');
const qPalette=document.getElementById('qPalette');
qCard.addEventListener('mouseup',(e)=>{
  const sel=window.getSelection(); if(!sel||sel.toString().trim().length===0) return;
  if(!qCard.contains(sel.getRangeAt(0).commonAncestorContainer)) return;
  const node=sel.getRangeAt(0).commonAncestorContainer.nodeType===1 ? sel.getRangeAt(0).commonAncestorContainer : sel.getRangeAt(0).commonAncestorContainer.parentNode;
  if(node.closest && node.closest('input,textarea,select')) return;
  const r=qCard.getBoundingClientRect(), x=Math.min(e.clientX-r.left,r.width-10), y=Math.max(0,e.clientY-r.top-40);
  qPalette.style.left=(r.left+x)+'px'; qPalette.style.top=(r.top+y)+'px'; qPalette.style.display='block';
});
document.addEventListener('mousedown',(e)=>{ if(!qPalette.contains(e.target)) qPalette.style.display='none'; });
qPalette.querySelectorAll('.hbtn[data-color]').forEach(btn=>{
  btn.addEventListener('click',()=>{ markSelection(btn.dataset.color, qCard); qPalette.style.display='none'; });
});
document.getElementById('clearQMarks').addEventListener('click',()=>{
  qCard.querySelectorAll('span.highlight').forEach(n=>{ const p=n.parentNode; while(n.firstChild) p.insertBefore(n.firstChild,n); p.removeChild(n); p.normalize(); });
  qPalette.style.display='none';
});

/* Helper */
function markSelection(color, scope){
  const sel=window.getSelection(); if(!sel||!sel.rangeCount) return;
  const range=sel.getRangeAt(0);
  if(!scope.contains(range.commonAncestorContainer)) return;
  const container=range.commonAncestorContainer.nodeType===1? range.commonAncestorContainer : range.commonAncestorContainer.parentNode;
  if (container.closest && container.closest('input, textarea, select')) return;
  const frag=range.extractContents();
  const span=document.createElement('span'); span.className='highlight'; span.style.backgroundColor=color; span.appendChild(frag);
  range.insertNode(span); sel.removeAllRanges();
}

/* minor: telegram btn */
document.querySelector('.tg').addEventListener('click',()=>window.open(CONFIG.telegramLink,'_blank'));
</script>
</body>
</html>
