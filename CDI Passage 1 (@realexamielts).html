<!DOCTYPE html>
<html lang="en">
<!-- 
    This test interface was developed by Shahriyor Jo'rayev
    Telegram: @realexamielts
-->    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real exam IELTS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --passage-bg: #f8f9fa;
            --questions-bg: #ffffff;
            --border-color: #0088CC;
            --highlight-color: springgreen; /* Changed highlight color */
            
            /* New Header & Social Colors */
            --header-bg: #F8F8F8; /* Very light gray for header background */
            --header-text: #333333; /* Dark text for light header */
            --telegram-blue: #0088CC;
            --instagram-pink: #E4405F;
            --youtube-red: #FF0000;

            /* Button Colors (Red themed) */
            --button-bg: #28a745; /* Primary button red */
            --button-hover: #28a745; /* Darker red on hover */
            
            --correct-color: #28a745; /* Standard green */
            --incorrect-color: #dc3545; /* Standard red */
            --progress-complete: #28a745;
            --progress-incomplete: #bdbdbd;

            /* Timer Colors (Red themed) */
            --timer-bg: #0088CC; /* Very light red/pink */
            --timer-text: #ffffff; /* Darker red */

            --footer-bg: #f5f5f5;
        }

        .night-mode {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --passage-bg: #1e1e1e;
            --questions-bg: #1e1e1e;
            --border-color: #0088CC;
            --highlight-color: #2E8B57; /* Darker springgreen for night mode */
            
            /* Night Mode Header & Social Colors */
            --header-bg: #1a1a1a; /* Dark gray for header background */
            --header-text: #ffffff; /* White text for dark header */
            --telegram-blue: #005f99; /* Darker telegram blue */
            --instagram-pink: #b2334b; /* Darker instagram pink */
            --youtube-red: #b20000; /* Darker YouTube red */

            /* Night Mode Button Colors */
            --button-bg: #28a745; /* Darker primary button red */
            --button-hover: #28a745; /* Even darker red on hover */
            
            --correct-color: #218838; /* Darker green */
            --incorrect-color: #c82333; /* Darker red */
            --progress-complete: #218838;
            --progress-incomplete: #616161;

            /* Night Mode Timer Colors */
            --timer-bg: #0088CC; /* Dark red */
            --timer-text: #ffffff; /* Lighter red */

            --footer-bg: #121212;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        header {
            background-color: var(--header-bg);
            color: var(--header-text);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            z-index: 100;
        }
        
        .logo-area {
            display: flex;
            align-items: center;
            gap: 15px; /* Space between social links */
        }
        
        .social-link {
            display: flex;
            align-items: center;
            gap: 8px; /* Space between icon and text */
            color: white; /* Text color is always white for social links */
            padding: 8px 15px;
            border-radius: 50px; /* Pill shape */
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .social-link:hover {
            transform: translateY(-1px);
        }

        .social-link i {
            font-size: 1.2em; /* Makes icon slightly larger than text */
        }

        /* Specific styling for social links */
        .social-link.telegram {
            background-color: var(--telegram-blue);
        }
        .social-link.telegram:hover {
            background-color: #007bb5; /* Slightly darker */
        }

        .social-link.instagram {
            background-color: var(--instagram-pink);
        }
        .social-link.instagram:hover {
            background-color: #d62976; /* Slightly darker */
        }

        .social-link.youtube {
            background-color: var(--youtube-red);
        }
        .social-link.youtube:hover {
            background-color: #CC0000; /* Slightly darker */
        }


        .header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .timer-container {
            background-color: var(--timer-bg);
            color: var(--timer-text);
            padding: 8px 15px;
            border-radius: 50px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .timer-controls {
            display: flex;
            gap: 8px;
        }

        .timer-controls button {
            background: none;
            border: none;
            color: var(--timer-text);
            cursor: pointer;
            font-size: 16px;
            padding: 4px;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .timer-controls button:hover {
            background-color: rgba(0,0,0,0.1); /* Darker hover for light timer */
        }
        .night-mode .timer-controls button:hover {
            background-color: rgba(255,255,255,0.2); /* Lighter hover for dark timer */
        }

        .mode-toggle {
            background: none;
            border: none;
            color: var(--header-text);
            cursor: pointer;
            font-size: 20px;
            padding: 6px;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mode-toggle:hover {
            background-color: rgba(0,0,0,0.1); /* Darker hover for light header */
        }
        .night-mode .mode-toggle:hover {
            background-color: rgba(255,255,255,0.2); /* Lighter hover for dark header */
        }

        main {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .passage-container, .questions-container {
            height: 100%;
            overflow-y: auto;
            padding: 20px;
        }

        .passage-container {
            width: 50%;
            background-color: var(--passage-bg);
            border-right: 1px solid var(--border-color);
            position: relative;
        }

        .questions-container {
            width: 50%;
            background-color: var(--questions-bg);
        }

        .passage-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-color);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
        }

        .passage-text {
            font-size: 17px;
        }
        
        .question-text {
             font-size: 17px;
             line-height: 1.8; /* Increased line-height for fill-in-the-blank */
        }

        .passage-text p {
            margin-bottom: 20px;
            text-align: justify;
        }

        .highlight {
            background-color: var(--highlight-color);
            cursor: pointer;
        }

        .highlight-tooltip {
            position: absolute;
            background-color: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 14px;
            z-index: 1000;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin: 25px 0 15px;
            color: var(--text-color);
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .question-group {
            margin-bottom: 30px;
        }

        .question {
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 8px;
            background-color: var(--passage-bg);
            border-left: 4px solid var(--border-color);
        }

        .question-title {
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: baseline; /* Align baselines of number and text */
        }

        .question-number {
            display: inline-block;
            width: 28px;
            height: 28px;
            background-color: var(--progress-incomplete);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 28px;
            margin-right: 10px;
            font-size: 14px;
            flex-shrink: 0;
        }

        .question.answered .question-number {
            background-color: var(--progress-complete);
        }

        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .option input {
            margin-right: 8px;
        }

        /* Styling for the new inline input fields */
        .fill-in-the-blank {
            background: transparent;
            border: none;
            border-bottom: 2px solid var(--text-color);
            width: 150px;
            font-family: inherit;
            font-size: 1em; /* Inherit font size from parent */
            color: inherit;
            padding: 0 4px 2px 4px; /* Add some padding */
            margin: 0 3px; /* Add some margin */
            vertical-align: baseline; /* Align with the text */
            text-align: center;
            outline: none;
            transition: border-color 0.3s;
        }

        .fill-in-the-blank:focus {
            border-bottom-color: var(--button-bg);
        }


        .instructions {
            font-size: 14px;
            color: #757575;
            margin-top: 5px;
            font-style: italic;
        }

        footer {
            background-color: var(--footer-bg);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid var(--border-color);
            box-shadow: 0 -2px 5px rgba(0,0,0,0.05);
        }

        .progress-container {
            display: flex;
            gap: 8px;
        }

        .progress-item {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--progress-incomplete);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .progress-item:hover {
            transform: scale(1.1);
        }

        .progress-item.completed {
            background-color: var(--progress-complete);
        }

        .action-buttons {
            display: flex;
            gap: 12px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s, border-color 0.3s, color 0.3s;
        }

        .btn-primary {
            background-color: var(--button-bg);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--button-hover);
        }

        .btn-secondary {
            background-color: transparent;
            border: 1px solid var(--button-bg); /* Use primary button color for border */
            color: var(--button-bg); /* Use primary button color for text */
        }

        .btn-secondary:hover {
            background-color: rgba(204, 0, 0, 0.1); /* Light red tint on hover */
        }
        .night-mode .btn-secondary:hover {
            background-color: rgba(153, 0, 0, 0.2); /* Darker red tint on hover for night mode */
        }


        .feedback-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            display: none; /* Hidden by default */
            justify-content: center;
            align-items: center;
        }

        .feedback-container {
            background-color: var(--passage-bg);
            width: 90%;
            max-width: 900px;
            height: 90%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
        }

        .feedback-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .feedback-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        #close-feedback {
            font-size: 24px;
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
        }

        .score-display {
            font-size: 24px;
            font-weight: 700;
            margin-left: 10px;
        }
        
        .feedback-body {
            padding: 20px;
            overflow-y: auto;
        }

        .feedback-item {
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 8px;
            background-color: var(--questions-bg);
        }

        .feedback-question {
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .feedback-answer {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 4px;
            background-color: rgba(0,0,0,0.05);
        }

        .correct {
            color: var(--correct-color);
        }

        .incorrect {
            color: var(--incorrect-color);
        }

        .feedback-explanation {
            margin-top: 10px;
            padding: 10px;
            border-left: 3px solid var(--button-bg); /* Use primary button color for explanation border */
            background-color: rgba(0,0,0,0.03);
        }

        .feedback-passage {
            margin-top: 8px;
            font-style: italic;
            color: #757575;
        }

        /* Responsive Design */
        @media (max-width: 900px) {
            main {
                flex-direction: column;
            }
            
            .passage-container, .questions-container {
                width: 100%;
                height: 50%;
            }
            
            .passage-container {
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }
            
            .progress-container {
                flex-wrap: wrap;
                max-width: 60%;
            }
        }

        @media (max-width: 768px) {
             .logo-area {
                flex-wrap: wrap; /* Allow items to wrap to the next line */
                justify-content: center; /* Center items when wrapped */
                gap: 8px; /* Adjusted gap for smaller screens */
             }
             .social-link {
                padding: 6px 10px; /* Reduced padding for smaller screens */
                font-size: 13px; /* Reduced font size for smaller screens */
             }
             .social-link i {
                font-size: 1.1em; /* Slightly smaller icon */
             }
             .social-link span {
                display: inline; /* Ensure text is visible */
             }
        }


        @media (max-width: 600px) {
            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }
            .header-controls {
                width: 100%;
                justify-content: space-around;
            }
            .progress-container {
                max-width: 50%;
            }
            .progress-item {
                width: 26px;
                height: 26px;
                font-size: 12px;
            }
            footer {
                flex-direction: column;
                gap: 15px;
            }
            .action-buttons {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<!-- 
    This test interface was developed by Shahriyor Jo'rayev
    Telegram: @realexamielts
-->
<body>
    <header>
        <div class="logo-area">
            <!-- Removed the logo image tag as it was not opening -->
            <a href="https://t.me/realexamielts" class="social-link telegram" target="_blank" title="Join on Telegram">
                <i class="fab fa-telegram-plane"></i>
                <span>REAL EXAM IELTS - CD IELTS MATERIALS</span>
            </a>
                        
        </div>
        <div class="header-controls">
            <div class="timer-container">
                <i class="fas fa-clock"></i>
                <span id="timer">20:00</span>
                <div class="timer-controls">
                    <button id="start-timer" title="Start"><i class="fas fa-play"></i></button>
                    <button id="pause-timer" title="Pause"><i class="fas fa-pause"></i></button>
                    <button id="reset-timer" title="Reset"><i class="fas fa-redo"></i></button>
                </div>
            </div>
            <button class="mode-toggle" id="night-mode-toggle" title="Toggle Night Mode">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </header>

    <main>
        <div class="passage-container" id="passage-container">
            <div class="passage-content">
                <h4>READING PASSAGE 1</h4>
                <div class="instructions">You should spend about 20 minutes on Questions 1-13, which are based on Reading 
                    Passage 1.</div>
                <div class="passage-title"></div>
                <div class="passage-text" id="passage-text">
                    <p style="text-align:center; font-weight: bold !important;">Dolls Through the Ages</p>
                    <p>A What is today a simple children’s toy has a surprisingly rich history. Dolls have been a part of humankind for thousands of years. Often depicting religious figures, or used as playthings, early dolls were probably made from primitive materials such as clay, fur, or wood.</p>

                    <p>B Dolls constructed of flat pieces of wood, painted with various designs, and with ‘hair’ made of clay, have often been found in Egyptian graves dating back to 2000 BC. Egyptian tombs of wealthy families have included pottery dolls. Dolls being placed in these graves leads some to believe that they were cherished possessions.</p>

                    <p>C Girls from ancient Greece and Rome offered their wooden dolls to goddesses after they were too ‘grown-up’ to play with dolls. Most ancient dolls that were found in tombs were very simple creations, often made from such materials as clay, rags, wood, or bone. Some of the more unique dolls were made with ivory or wax. The main goal was to make the doll as lifelike as possible. That ideal led to the creation of dolls with movable limbs and removable garments, dating back to 600 BC.</p>

                    <p>D Following the era of the ancient dolls, Europe became a major hub for doll production. These dolls were primarily made of wood. Fewer than 30 examples of primitive wooden stump dolls from England survive today. The Grodnertal area of Germany produced many peg wooden dolls, a type of doll that has very simple peg joints and resembles a clothespin (a device for hanging washing on a clothesline). An alternative to wood was developed in the 1800s.</p>

                    <p>E ‘Composition’ is a collective term for mixtures of pulped wood or paper that were used to make doll heads and bodies. These mixtures were moulded under pressure, creating a durable doll that could be mass-produced. Manufacturers closely guarded the recipes for their mixtures, sometimes using strange ingredients like ash or eggshells. Papier-mâché, a type of composition, was one of the most popular mixtures.</p>

                    <p>F In addition to wooden dolls, wax dolls grew in popularity in the 17th and 18th centuries. Munich in Germany was a major manufacturing centre for wax dolls. Wax dollmakers would model a doll’s head in wax or clay, and then cover it with plaster to create a mould. Then they would pour melted wax into the cast. The wax for the head would be very thin, no more than 3 mm. Some of the most distinctive wax dolls were created in England between 1850 and 1930. One of the first dolls that portrayed a baby was made in England from wax at the beginning of the 19th century.</p>

                    <p>G Around the same time, porcelain became popular. It is made by firing special clays in a kiln at more than 2,372 degrees Fahrenheit (1300°C), and only a few clays can withstand firing at such high temperatures. Porcelain is used generically to refer to both china and bisque dolls; china is glazed, whereas bisque is unglazed. Germany, France, and Denmark started creating china heads for dolls in the 1840s. These china heads were replaced in the 1860s by ones made of bisque. Bisque, which is porcelain fired twice with colour added to it after the first firing, looked more like skin than china did.</p>

                    <p>H In France, the bébé was popular in the 1880s, and it has become a highly sought-after doll today. The bébé, first made in the 1850s, was different from its predecessors because it depicted a younger girl. Until then, most French dolls were representations of adults. Although the French dolls were unrivalled in their artistry, German bisque dolls became quite popular because they were not as expensive. Kammer & Reinhardt introduced a bisque character doll in the 1900s, starting a trend of creating realistic dolls.</p>

                    <p>I For many centuries, rag dolls were made by mothers for their children. The term ‘rag doll’ refers generically to dolls made of any fabric. ‘Cloth doll’ refers to a subset of rag dolls made of linen or cotton. Commercially produced rag dolls were first introduced in the 1850s by English and American manufacturers. Although not as sophisticated as dolls made from other materials, rag dolls were well loved, often as a child’s first toy.</p>

                    <p>J Dollmaking did not become an industry in the United States until after the Civil War in the 1860s. Doll production was concentrated in the New England region of the United States, with dolls made from a variety of materials such as leather, rubber, papier-mâché, and cloth. Celluloid was developed in the state of New Jersey in the late 1860s and was used to manufacture dolls until the mid-1950s. German, French, American, and Japanese factories churned out cheaply produced celluloid dolls in mass quantities. However, celluloid fell out of favour because of its extreme flammability and propensity to fade in bright light.</p>

                    <p>K After World War I, dollmakers experimented with plastics. Hard plastic dolls were manufactured in the 1940s. They resembled composition dolls, but they were much more durable. Other materials used in doll manufacturing included rubber, foam rubber, and vinyl in the 1950s and 1960s. Vinyl changed dollmaking, allowing dollmakers to root hair into the head, rather than using wigs or painting the hair. Although most dolls are now mass-manufactured using these modern materials, many modern dollmakers are still using the traditional materials of the past to make collectible dolls.</p>
                </div>
            </div>
        </div>
        
        <div class="questions-container" id="questions-container">

            <div class="section-title">Questions 1-6</div>
            <div class="instructions">Complete the notes below.<br>  
                Choose <b>ONE WORD ONLY</b> from the passage for each answer.<br> 
                Write your answers in boxes 1-6 on your answer sheet.</div>
                <p style="text-align:center; font-weight: bold !important;">Dolls</p>
                <b>Earliest known dolls</b>
                - represented religious figures
                - used as toys
            
                <div class="question-group">

                    <div class="question" id="q1">
                        <div class="question-title">
                          <div class="question-number">1</div>
                          <div class="question-text">
                            Earliest known dolls<br>
                            - represented religious figures<br>
                            - used as toys<br>
                            <b>Egypt, 2000 BC</b><br>
                            - bodies were made of wood<br>
                            - <input type="text" name="q1" class="fill-in-the-blank"> was used for the hair
                          </div>
                          </div>
                        </div>
                      
                      
                                            
                      <div class="question" id="q2">
                        <div class="question-title">
                          <div class="question-number">2</div>
                          <div class="question-text">
                            <b>Ancient Greece and Rome</b><br>
                            - dolls were given to <input type="text" name="q2" class="fill-in-the-blank"> by older girls
                          </div>
                        </div>
                      </div>
                      
                      <div class="question" id="q3">
                        <div class="question-title">
                          <div class="question-number">3</div>
                          <div class="question-text">
                            <b>600 BC</b><br>
                            - realistic dolls had separate clothes and <input type="text" name="q3" class="fill-in-the-blank"> that could be put in different positions
                          </div>
                        </div>
                      </div>
                      
                      <div class="question" id="q4">
                        <div class="question-title">
                          <div class="question-number">4</div>
                          <div class="question-text">
                            <b>17th and 18th centuries</b><br>
                            - dolls made of <input type="text" name="q4" class="fill-in-the-blank"> became more common
                          </div>
                        </div>
                      </div>

                      <div class="question" id="q5">
                        <div class="question-title">
                          <div class="question-number">5</div>
                          <div class="question-text">
                            - moulds made of <input type="text" name="q5" class="fill-in-the-blank">
                          </div>
                        </div>
                      </div>
                      
                      <div class="question" id="q6">
                        <div class="question-title">
                          <div class="question-number">6</div>
                          <div class="question-text">
                            <b>1800s</b><br>
                            - new manufacturing process developed<br>
                            - new group of mixtures known as <input type="text" name="q6" class="fill-in-the-blank"><br>
                            - recipes for these mixtures kept secret
                          </div>
                        </div>
                      </div>
                      
                </div>      

                

            <div class="section-title">Questions 7-13</div>
            <div class="instructions">Do the following statements agree with the information given in Reading Passage 1?</div>
            <div class="instructions">In boxes 7-13 on your answer sheet, write:<br>
                TRUE - if the statement agrees with the information<br>
                FALSE - if the statement contradicts the information<br>
                NOT GIVEN - if there is no information on this
            </div>
            
            <div class="question-group">
                <div class="question" id="q7"> 
                    <div class="question-title">
                        <div class="question-number">7</div> 
                        <div class="question-text">
                            Bisque dolls appear less realistic than dolls made of china.
                        </div>
                    </div>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q7" value="TRUE"> TRUE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q7" value="FALSE"> FALSE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q7" value="NOT GIVEN"> NOT GIVEN 
                        </label>
                    </div>
                </div>
                
                <div class="question" id="q8"> 
                    <div class="question-title">
                        <div class="question-number">8</div> 
                        <div class="question-text">
                            French dolls tended to cost more than German bisque dolls.
                        </div>
                    </div>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q8" value="TRUE"> TRUE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q8" value="FALSE"> FALSE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q8" value="NOT GIVEN"> NOT GIVEN 
                        </label>
                    </div>
                </div>
                
                <div class="question" id="q9"> 
                    <div class="question-title">
                        <div class="question-number">9</div> 
                        <div class="question-text">
                            The first rag dolls were made in the 1850s.
                        </div>
                    </div>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q9" value="TRUE"> TRUE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q9" value="FALSE"> FALSE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q9" value="NOT GIVEN"> NOT GIVEN 
                        </label>
                    </div>
                </div>
                
                <div class="question" id="q10"> 
                    <div class="question-title">
                        <div class="question-number">10</div> 
                        <div class="question-text">
                            Only dolls made of cotton or linen are classified as cloth dolls.
                        </div>
                    </div>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q10" value="TRUE"> TRUE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q10" value="FALSE"> FALSE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q10" value="NOT GIVEN"> NOT GIVEN 
                        </label>
                    </div>
                </div>
                
                <div class="question" id="q11"> 
                    <div class="question-title">
                        <div class="question-number">11</div> 
                        <div class="question-text">
                            Dolls made of celluloid tended to lose their colour.
                        </div>
                    </div>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q11" value="TRUE"> TRUE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q11" value="FALSE"> FALSE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q11" value="NOT GIVEN"> NOT GIVEN 
                        </label>
                    </div>
                </div>
                
                <div class="question" id="q12"> 
                    <div class="question-title">
                        <div class="question-number">12</div> 
                        <div class="question-text">
                            Composition dolls lasted longer than the plastic dolls that were made in the 1940s.
                        </div>
                    </div>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q12" value="TRUE"> TRUE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q12" value="FALSE"> FALSE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q12" value="NOT GIVEN"> NOT GIVEN 
                        </label>
                    </div>
                </div>
                
                <div class="question" id="q13"> 
                    <div class="question-title">
                        <div class="question-number">13</div> 
                        <div class="question-text">
                            Doll collectors prefer a doll to be dressed in its original clothing.
                        </div>
                    </div>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q13" value="TRUE"> TRUE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q13" value="FALSE"> FALSE 
                        </label>
                        <label class="option">
                            <input type="radio" name="q13" value="NOT GIVEN"> NOT GIVEN 
                        </label>
                    </div>
                </div>
                                
            </div>
            
        </div>
    </main>

    <footer>
        <div class="progress-container" id="progress-container">
            </div>
        <div class="action-buttons">
            <button class="btn-secondary" id="reset-btn">Reset Answers</button>
            <button class="btn-primary" id="submit-btn">Submit Answers</button>
        </div>
    </footer>

    <div class="feedback-overlay" id="feedback-overlay">
        <div class="feedback-container" id="feedback-container">
            <div class="feedback-header">
                <div class="feedback-title">
                    <i class="fas fa-chart-bar"></i> Your Results
                    <span class="score-display" id="score-display">0/13</span>
                </div>
                <button id="close-feedback" title="Close"><i class="fas fa-times"></i></button>
            </div>
            <div class="feedback-body" id="feedback-body">
                </div>
        </div>
    </div>
<!-- 
    This test interface was developed by Shahriyor Jo'rayev
    Telegram: @realexamielts
-->

    <script>
        // Timer functionality
        let timerInterval;
        let seconds = 1200; // 20 minutes
        let timerRunning = false;
        
        const timerDisplay = document.getElementById('timer');
        const startTimer = document.getElementById('start-timer');
        const pauseTimer = document.getElementById('pause-timer');
        const resetTimer = document.getElementById('reset-timer');
        
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
            const secs = (seconds % 60).toString().padStart(2, '0');
            return `${mins}:${secs}`;
        }
        
        function updateTimer() {
            timerDisplay.textContent = formatTime(seconds);
            if (seconds <= 0) {
                clearInterval(timerInterval);
                timerRunning = false;
                document.getElementById('submit-btn').click();
            }
        }
        
        startTimer.addEventListener('click', () => {
            if (!timerRunning) {
                timerRunning = true;
                timerInterval = setInterval(() => {
                    seconds--;
                    updateTimer();
                }, 1000);
            }
        });
        
        pauseTimer.addEventListener('click', () => {
            if (timerRunning) {
                clearInterval(timerInterval);
                timerRunning = false;
            }
        });
        
        resetTimer.addEventListener('click', () => {
            clearInterval(timerInterval);
            timerRunning = false;
            seconds = 1200;
            updateTimer();
        });
        
        // Night mode toggle
        const nightModeToggle = document.getElementById('night-mode-toggle');
        nightModeToggle.addEventListener('click', () => {
            document.body.classList.toggle('night-mode');
            const icon = nightModeToggle.querySelector('i');
            if (document.body.classList.contains('night-mode')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        });
        
        // Create progress indicators
        const progressContainer = document.getElementById('progress-container');
        for (let i = 1; i <= 13; i++) {
            const progressItem = document.createElement('div');
            progressItem.className = 'progress-item';
            progressItem.textContent = i;
            progressItem.dataset.question = i;
            progressContainer.appendChild(progressItem);
            
            progressItem.addEventListener('click', () => {
                const questionElement = document.getElementById(`q${i}`);
                if (questionElement) {
                    questionElement.scrollIntoView({ behavior: 'smooth' });
                }
            });
        }
        
            // Modified highlight logic with color picker and remove functionality
            let highlightTooltip = null;
            let selectedRange = null;

            function createColorPicker(x, y, applyColorCallback) {
                const colors = ["lightgreen", "yellow", "lightskyblue"];
                const picker = document.createElement("div");
                picker.className = "highlight-tooltip";
                picker.style.top = `${y}px`;
                picker.style.left = `${x}px`;
                picker.style.position = "fixed";
                picker.style.background = "#333";
                picker.style.color = "white";
                picker.style.padding = "5px 10px";
                picker.style.borderRadius = "4px";
                picker.style.zIndex = 1000;
                picker.style.display = "flex";
                colors.forEach(color => {
                    const btn = document.createElement("button");
                    btn.style.backgroundColor = color;
                    btn.style.border = "none";
                    btn.style.width = "20px";
                    btn.style.height = "20px";
                    btn.style.margin = "0 4px";
                    btn.style.borderRadius = "50%";
                    btn.title = `Highlight with ${color}`;
                    btn.addEventListener("click", () => {
                        applyColorCallback(color);
                        picker.remove();
                    });
                    picker.appendChild(btn);
                });
                document.body.appendChild(picker);
                return picker;
            }

            function applyHighlight(color) {
                if (!selectedRange) return;
                const span = document.createElement("span");
                span.className = "highlight";
                span.style.backgroundColor = color;
                span.setAttribute("data-color", color);
                span.appendChild(selectedRange.extractContents());
                selectedRange.insertNode(span);
                selectedRange = null;
                window.getSelection().removeAllRanges();

                span.addEventListener("click", function (e) {
                    e.stopPropagation();
                    if (highlightTooltip) highlightTooltip.remove();
                    highlightTooltip = document.createElement("div");
                    highlightTooltip.className = "highlight-tooltip";
                    highlightTooltip.style.top = `${e.clientY}px`;
                    highlightTooltip.style.left = `${e.clientX}px`;
                    highlightTooltip.innerHTML = `<button style="color:white;background:red;border:none;padding:5px 10px;border-radius:4px;cursor:pointer;">Remove Highlight</button>`;
                    highlightTooltip.querySelector("button").addEventListener("click", function () {
                        const parent = span.parentNode;
                        while (span.firstChild) {
                            parent.insertBefore(span.firstChild, span);
                        }
                        parent.removeChild(span);
                        parent.normalize();
                        highlightTooltip.remove();
                    });
                    document.body.appendChild(highlightTooltip);
                });
            }


            function handleMouseUp(e) {
                const selection = window.getSelection();
                if (selection.toString().trim() === '') return;
                if (!e.currentTarget.contains(selection.anchorNode)) return;

                selectedRange = selection.getRangeAt(0).cloneRange();
                const rect = selectedRange.getBoundingClientRect();

                if (highlightTooltip) highlightTooltip.remove();

                highlightTooltip = createColorPicker(rect.left, rect.top - 40, applyHighlight);
            }

            document.getElementById('passage-text').addEventListener('mouseup', handleMouseUp);
            document.getElementById('questions-container').addEventListener('mouseup', handleMouseUp);

            document.addEventListener('mousedown', (e) => {
                if (highlightTooltip && !highlightTooltip.contains(e.target)) {
                    highlightTooltip.remove();
                    highlightTooltip = null;
                    window.getSelection().removeAllRanges();
                }
            });
        
        // Track answered questions
const questions = document.querySelectorAll('.question');
const progressItems = document.querySelectorAll('.progress-item');

function updateProgress() {
    let answeredCount = 0;

    questions.forEach((question, index) => {
        const questionNumber = index + 1;
        let answered = false;

        if (questionNumber <= 6) {
            // 1-6: input (fill-in-the-blank)
            const input = question.querySelector('input[type="text"]');
            answered = input && input.value.trim() !== '';
        } else {
            // 7-13: radio buttons
            const selectedOption = question.querySelector('input[type="radio"]:checked');
            answered = selectedOption !== null;
        }

        if (answered) {
            question.classList.add('answered');
            progressItems[index].classList.add('completed');
            answeredCount++;
        } else {
            question.classList.remove('answered');
            progressItems[index].classList.remove('completed');
        }
    });

    return answeredCount;
}

// Event listeners
document.querySelectorAll('input[type="radio"], input[type="text"]').forEach(input => {
    input.addEventListener('change', updateProgress);
    input.addEventListener('input', updateProgress);
});

        
        // Reset button
        document.getElementById('reset-btn').addEventListener('click', () => {
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });
            
            document.querySelectorAll('input[type="text"]').forEach(input => {
                input.value = '';
            });
            
            document.querySelectorAll('.highlight').forEach(highlight => {
                const parent = highlight.parentNode;
                while (highlight.firstChild) {
                    parent.insertBefore(highlight.firstChild, highlight);
                }
                parent.removeChild(highlight);
                parent.normalize();
            });
            
            updateProgress();
            document.getElementById('feedback-overlay').style.display = 'none';
        });
        
        // Submit and Feedback functionality
        const feedbackOverlay = document.getElementById('feedback-overlay');
        const closeFeedbackBtn = document.getElementById('close-feedback');

        document.getElementById('submit-btn').addEventListener('click', () => {
            console.log("Submit button clicked!"); // Debugging log
            pauseTimer.click();
            
            const answers = {
                                1: "clay",
                                2: "goddesses",
                                3: "limbs",
                                4: "wax",
                                5: "plaster",
                                6: "composition",
                                7: "FALSE",
                                8: "TRUE",
                                9: "FALSE",
                                10: "TRUE",
                                11: "TRUE",
                                12: "FALSE",
                                13: "NOT GIVEN"
                            };

            
                            const explanations = {
    1: "The passage states that early dolls were probably made from primitive materials such as clay, fur, or wood — supporting the answer \"clay\".",
    2: "The passage says that girls from ancient Greece and Rome offered their wooden dolls to goddesses after they were too grown-up to play with dolls — supporting the answer \"goddesses\".",
    3: "The passage mentions the creation of dolls with movable limbs and removable garments, dating back to 600 BC — supporting the answer \"limbs\".",
    4: "The passage says that in the 17th and 18th centuries, wax dolls grew in popularity and were produced in Germany and England — supporting the answer \"wax\".",
    5: "The passage explains that wax dollmakers would model a doll’s head and then cover it with plaster to create a mould — supporting the answer \"plaster\".",
    6: "The passage describes that in the 1800s a new manufacturing process developed using mixtures called 'composition', a collective term for pulped wood or paper — supporting the answer \"composition\".",
    7: "The passage says that bisque looked more like skin than china did, meaning bisque is more realistic, contradicting the statement that bisque dolls appear less realistic — so the answer is FALSE.",
    8: "The passage explains that although French dolls were unrivalled in artistry, German bisque dolls became popular because they were not as expensive, implying French dolls cost more — so the answer is TRUE.",
    9: "The passage states that rag dolls were made for many centuries by mothers, while only commercially produced rag dolls started in the 1850s — so saying the first rag dolls were made in the 1850s is wrong — FALSE.",
    10: "The passage states that 'cloth doll' refers to a subset of rag dolls made of linen or cotton, meaning only those materials qualify — matching the statement — TRUE.",
    11: "The passage says celluloid fell out of favour because of its extreme flammability and propensity to fade in bright light — losing colour — so the answer is TRUE.",
    12: "The passage explains that hard plastic dolls from the 1940s were much more durable than composition dolls — contradicting the statement — FALSE.",
    13: "The passage never mentions collectors’ preference for original clothing — so the answer is NOT GIVEN."
};

const passageReferences = {
    1: "Often depicting religious figures, or used as playthings, early dolls were probably made from primitive materials such as clay, fur, or wood.",
    2: "Girls from ancient Greece and Rome offered their wooden dolls to goddesses after they were too ‘grown-up’ to play with dolls.",
    3: "That ideal led to the creation of dolls with movable limbs and removable garments, dating back to 600 BC.",
    4: "In addition to wooden dolls, wax dolls grew in popularity in the 17th and 18th centuries. Munich in Germany was a major manufacturing centre for wax dolls.",
    5: "Wax dollmakers would model a doll’s head in wax or clay, and then cover it with plaster to create a mould.",
    6: "‘Composition’ is a collective term for mixtures of pulped wood or paper that were used to make doll heads and bodies.",
    7: "Bisque, which is porcelain fired twice with colour added after the first firing, looked more like skin than china did.",
    8: "Although the French dolls were unrivalled in their artistry, German bisque dolls became quite popular because they were not as expensive.",
    9: "For many centuries, rag dolls were made by mothers for their children. Commercially produced rag dolls were first introduced in the 1850s.",
    10: "‘Cloth doll’ refers to a subset of rag dolls made of linen or cotton.",
    11: "Celluloid fell out of favour because of its extreme flammability and propensity to fade in bright light.",
    12: "Hard plastic dolls were manufactured in the 1940s… they were much more durable than composition dolls.",
    13: "(No information in the passage about collectors preferring dolls dressed in their original clothing.)"
};



            
            let correctCount = 0;
            const feedbackBody = document.getElementById('feedback-body');
            feedbackBody.innerHTML = ''; 
            
            for (let i = 1; i <= 13; i++) {
                let userAnswer, isCorrect, questionHTML;
                const feedbackItem = document.createElement('div');
                feedbackItem.className = 'feedback-item';
                
                const questionDiv = document.querySelector(`#q${i} .question-text`);

                if (i <= 6) {
                    const input = document.querySelector(`input[name="q${i}"]`);
                    userAnswer = input.value.trim();
                    isCorrect = userAnswer.toLowerCase() === answers[i].toLowerCase();
                    questionHTML = questionDiv.innerHTML.replace(/<input.*?>/, `<strong><em>${answers[i]}</em></strong>`);
                } else {
                    const selectedOption = document.querySelector(`input[name="q${i}"]:checked`);
                    userAnswer = selectedOption ? selectedOption.value : 'Not answered';
                    isCorrect = userAnswer === answers[i];
                    questionHTML = questionDiv.textContent;
                }

                
                if (isCorrect) correctCount++;
                
                const enableExplanations = false; // ← Test tuzuvchi bu yerda true/false qilib boshqaradi
                const enablePassages = false;     // ← xohlaganida false qiladi

                feedbackItem.innerHTML = `
                    <div class="feedback-question">
                        <span class="${isCorrect ? 'correct' : 'incorrect'}">Question ${i}:</span>
                        ${isCorrect ? `<i class="fas fa-check correct" style="margin-left: 5px;"></i>` : `<i class="fas fa-times incorrect" style="margin-left: 5px;"></i>`}
                    </div>
                    <p><em>${questionHTML}</em></p>
                    <div class="feedback-answer">
                        <strong>Your answer:</strong> ${userAnswer || 'Not answered'}<br>
                        ${!isCorrect ? `<strong>Correct answer:</strong> ${answers[i]}` : ''}
                    </div>
                    <div class="feedback-explanation">
                        <strong>Explanation:</strong> ${explanations[i]}
                    </div>
                    <div class="feedback-passage">
                        <strong>Relevant passage:</strong> "${passageReferences[i]}"
                    </div>
                `;
                
                feedbackBody.appendChild(feedbackItem);
            }
            
            document.getElementById('score-display').textContent = `${correctCount}/13`;
            feedbackOverlay.style.display = 'flex'; // This line makes the overlay visible
            console.log("Feedback overlay display set to flex."); // Debugging log
        });

        closeFeedbackBtn.addEventListener('click', () => {
            feedbackOverlay.style.display = 'none';
        });

        feedbackOverlay.addEventListener('click', (e) => {
            if (e.target === feedbackOverlay) {
                feedbackOverlay.style.display = 'none';
            }
        });

        // Initialize timer display and progress
        updateTimer();
        updateProgress();
    </script>
</body>
<!-- 
    This test interface was developed by Shahriyor Jo'rayev
    Telegram: @realexamielts
-->
</html>
