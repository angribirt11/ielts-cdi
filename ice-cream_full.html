<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Reading Passage 1 ‚Äì The History of Ice Cream</title>
<style>
  :root{--brand:#2563eb;--ink:#111827;--bg:#f7f7fb;--ok:#16a34a;--bad:#dc2626;--muted:#6b7280}
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:#111}
  .container{display:flex;gap:20px;max-width:1200px;margin:0 auto;padding:20px 20px 96px}
  .card{background:#fff;border-radius:12px;box-shadow:0 4px 14px rgba(0,0,0,.08);padding:20px;overflow:auto;max-height:90vh}
  .passage{flex:1}
  .questions{flex:1}
  h1{color:var(--ink);border-bottom:2px solid var(--brand);padding-bottom:10px;margin:0 0 14px}
  h2{color:var(--brand);margin:22px 0 10px}
  h3{margin:8px 0 0}
  .muted{color:var(--muted)}

  /* Timer */
  .timerWrap{position:fixed;top:16px;right:16px;display:flex;align-items:center;gap:8px;z-index:10}
  .timer{background:var(--brand);color:#fff;padding:10px 14px;border-radius:8px;font-weight:700}
  .tbtn{border:1px solid #e5e7eb;background:#fff;color:#111;padding:8px 10px;border-radius:8px;cursor:pointer}

  /* Questions */
  .qsection{margin:14px 0 6px}
  .qblock{padding:14px;border:1px solid #e5e7eb;border-radius:12px;margin:12px 0}
  .qhead{font-weight:600;margin-bottom:8px}
  .options{margin-top:8px}
  .options label{display:block;margin:6px 0}
  select,input[type="text"]{padding:8px;border-radius:8px;border:1px solid #e5e7eb;width:100%;max-width:520px}
  .submit{background:var(--brand);color:#fff;border:0;padding:12px 18px;border-radius:8px;cursor:pointer;font-size:16px;margin-top:16px}
  .submit:hover{filter:brightness(.95)}

  /* Results */
  .results{display:none;margin-top:18px;background:#f8f9fa;border-radius:10px;padding:16px}
  .results ul{list-style:none;padding:0;margin:8px 0 0}
  .results li{margin:6px 0;padding:8px;border-radius:8px}
  .results li.ok{background:#ecfdf5;color:#065f46}
  .results li.bad{background:#fef2f2;color:#991b1b}
  .results .meta{font-size:13px;color:var(--muted)}

  /* Footer chips */
  .footerNav{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid #e5e7eb;padding:10px 12px;display:flex;flex-wrap:wrap;gap:8px;align-items:center;z-index:9}
  .chip{border:1px solid #d1d5db;background:#fff;color:#111;padding:6px 10px;border-radius:999px;cursor:pointer;font-size:14px}
  .chip.answered{border-color:#9ca3af;background:#f3f4f6}

  /* Highlights */
  .palette{position:fixed;background:#fff;padding:8px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,.12);display:none;z-index:9}
  .hbtn{background:var(--brand);color:#fff;border:0;padding:6px 10px;border-radius:6px;margin:4px 4px 0 0;cursor:pointer}
  .highlight{background:yellow}

  .tg{position:fixed;bottom:96px;right:16px;background:#0088cc;color:#fff;border:0;padding:12px 16px;border-radius:9999px;display:flex;align-items:center;gap:8px;cursor:pointer;box-shadow:0 8px 20px rgba(0,136,204,.35)}
</style>
</head>
<body>
  <div class="timerWrap">
    <div class="timer" id="timer">20:00</div>
    <button class="tbtn" id="pauseBtn">‚è∏Ô∏è Pause</button>
    <button class="tbtn" id="resumeBtn" disabled>‚ñ∂Ô∏è Resume</button>
  </div>

  <!-- Highlight palettes -->
  <div class="palette" id="pPalette">
    <button class="hbtn" data-color="yellow">Yellow</button>
    <button class="hbtn" data-color="lightgreen">Green</button>
    <button class="hbtn" data-color="lightblue">Blue</button>
    <button class="hbtn" data-color="pink">Pink</button>
    <button class="hbtn" data-color="orange">Orange</button>
    <button class="hbtn" id="clearPMarks">Clear</button>
  </div>
  <div class="palette" id="qPalette">
    <button class="hbtn" data-color="yellow">Yellow</button>
    <button class="hbtn" data-color="lightgreen">Green</button>
    <button class="hbtn" data-color="lightblue">Blue</button>
    <button class="hbtn" data-color="pink">Pink</button>
    <button class="hbtn" data-color="orange">Orange</button>
    <button class="hbtn" id="clearQMarks">Clear</button>
  </div>

  <div class="container">
    <div class="card passage" id="passageCard">
      <h1 id="title"></h1>
      <div id="subtitle" class="muted"></div>

      <div id="passage">
        <h2>Reading Passage 1</h2>
        <h3>The History of Ice Cream</h3>

        <p>People the world over love ice cream. But they seldom consider how the frozen dessert came into being. Ice cold desserts, called 'ices', were around as far back as the 5th century BC, when the ancient Greeks refreshed themselves with snow, flavoured with honey or fruits. Although the Greek physician <strong>Hippocrates</strong> warned his patients to avoid unhealthy chilled drinks, these icy treats nonetheless enjoyed tremendous popularity.</p>

        <p>The ancient Romans were also familiar with ices. While the philosopher <strong>Seneca</strong> criticised the emperor <strong>Nero</strong> in the 1st century AD for the extravagance of having ice and snow brought from the mountains to cool his swimming pool, he seemed to have seen nothing wrong with the emperor's fondness for chilled drinks and snow flavoured with honey.</p>

        <p>But at that time, unless Romans wanted to eat their ices only in winter or high in the mountains, they needed not only to bring snow or ice to where they consumed it, but also to find some way of storing it in warm weather. This required a special sort of building now known as an <strong>ice house</strong>. Usually constructed of stone, underground and insulated with straw, these were sufficiently cold to preserve ice cut from frozen lakes and rivers in winter, or snow carried down from the mountains. Ice houses were in regular use in ancient Rome, and their growing use soon led to the development of a busy trade in snow and ice crisscrossing Europe, the Mediterranean and parts of western Asia.</p>

        <p>Yet desserts made with cold dairy products were not invented until much later. During the Tang Dynasty (AD 616-907), the Chinese made a cold, creamy concoction of buffalo milk, flour, camphor and snow. But while it was easy enough to cool milk down, this mixture proved difficult to freeze. This was simply a matter of physics. Most milk freezes at between -0.535 degrees C and -0.565 degrees C, which is below the freezing point of water; so packing it in frozen water or snow doesn't get milk cold enough to become solid. Surprisingly, the solution to this problem was <strong>salt</strong>. When salt is added to snow or ice, energy is absorbed from a container of milk, for example, set within the snow or ice, reducing the milk's temperature and creating a basic form of refrigeration or freezing.</p>

        <p>No one knows precisely when a mixture of salt and snow or ice was first used to produce ice cream. The earliest recorded references to what we know as ice cream occurred in Europe around 1530. However, it was not until the publication of a cookbook by <strong>Mrs Mary Eales</strong> in 1718 that recipes showing how to make it appeared in English. At that time, there was considerable variation in the ingredients. Milk, cream and custard were used almost interchangeably; and books of the period recommended including, for example, rose petals, caramel, ginger, lemon, chocolate, parsley and even asparagus.</p>

        <p>For many years, historians assumed that it was the aristocracy that were the main consumers of these early ice creams. During the 18th century, for example, a range of beautiful ice cream dishes were created for French King <strong>Louis XV</strong> and his court. In 1813, US President <strong>James Madison's</strong> wife arranged for ice creams to be given to guests at her husband's inaugural ball; two years later, the French writer <strong>Balzac</strong> described the lavish ice cream desserts consumed in the great houses of Paris in his novel Splendeurs et mis√®res des courtisanes. But, especially in 18th-century <strong>Naples</strong> in Italy, in part because of the relatively easy access to snow, it was also possible for people much lower down the social scale to make, sell and enjoy ice cream. Not only were there shops and caf√©s selling ice creams, but there were also vendors who sold it along the public roads, and there is evidence to suggest that some families may have made it at home.</p>

        <p>However, early ice creams were still quite different from the iced treats we enjoy today. Since the milk, cream or custard was not stirred as it was frozen, it formed icy chunks, resulting in a lumpy, disagreeable texture. In 1843, however, an American called <strong>Nancy Johnson</strong> designed a hand-turned freezer, which allowed her to make silky smooth ice cream. Her invention consisted of a large container filled with ice and salt, a tightly closed cylinder for the milk or cream and a removable handle, which was rotated to stir the ice cream until properly frozen.</p>

        <p>Even with Nancy Johnson's freezer, however, it was only possible to make small batches of ice cream at a time. But in 1926 another American, <strong>Clarence Vogt</strong>, improved on Johnson's idea with his continuous freezer, which made it possible to produce ice cream on an industrial scale. The inventions of Johnson and Vogt resulted in an explosion in the output of ice cream, which pushed the price down, making ice cream available to everyone everywhere. As more companies started manufacturing their own brands, increased competition led to the standardisation of the commercial product and to more inventive varieties.</p>
      </div>
    </div>

    <div class="card questions">
      <h1>Questions</h1>
      <div id="qroot"></div>
      <button class="submit" id="submitBtn">Submit Answers</button>
      <div class="results" id="results">
        <h2>Your Results</h2>
        <div id="score" class="meta"></div>
        <ul id="answers"></ul>
      </div>
    </div>
  </div>

  <div class="footerNav" id="footerNav"></div>
  <button class="tg" id="tgBtn">üì¢ Join my Telegram</button>

<script>
/* =======================
   CONFIG
   ======================= */
const CONFIG = {
  title: "READING PASSAGE 1 ‚Äì The History of Ice Cream",
  subtitle: "You should spend about 20 minutes on Questions 1‚Äì16.",
  durationMinutes: 20,
  telegramLink: "https://t.me/yourchannel",
  showFooterNavigator: true,

  sections: [
    /* 1‚Äì8 True/False/Not Given */
    {
      type: "tfng",
      heading: "Questions 1‚Äì8",
      instructions: [
        "Do the following statements agree with the information given in Reading Passage 1?",
        "In boxes 1‚Äì8 on your answer sheet, write",
        "TRUE if the statement agrees with the information",
        "FALSE if the statement contradicts the information",
        "NOT GIVEN if there is no information on this"
      ],
      items: [
        { id: 1, text: "The majority of ancient Greeks followed the advice of Hippocrates about cold foods.", correct: "FALSE" },
        { id: 2, text: "Seneca had different reactions to Nero's various uses of snow.", correct: "TRUE" },
        { id: 3, text: "Many ancient Romans went to the mountains in the summer to eat ice cream.", correct: "NOT GIVEN" },
        { id: 4, text: "The cold storage houses in Rome were generally built of frozen blocks of ice.", correct: "FALSE" },
        { id: 5, text: "The buying and selling of snow and ice became a common international activity during Roman times.", correct: "TRUE" },
        { id: 6, text: "Tang Dynasty Chinese preferred chilled desserts made from milk to those made only of snow and ice.", correct: "NOT GIVEN" },
        { id: 7, text: "The freezing temperature of most types of milk made it easy to create frozen dairy desserts.", correct: "FALSE" },
        { id: 8, text: "Salt was commonly used as a flavouring in ice creams in the past.", correct: "FALSE" }
      ]
    },

    /* 9‚Äì16 Note completion */
    {
      type: "completion",
      heading: "Questions 9‚Äì16",
      instructions: [
        "Complete the notes below.",
        "Choose ONE WORD ONLY from the passage for each answer.",
        "Write your answers in boxes 9‚Äì16 on your answer sheet."
      ],
      title: "The development of modern ice cream",
      items: [
        { id: 9, text: "First book in English with __________ for ice cream was published in 1718", correct: "recipes" },
        { id: 10, text: "Many different __________ were added to ice cream desserts", correct: "ingredients" },
        { id: 11, text: "It was once widely thought that ice cream was mostly eaten by the __________", correct: "aristocracy" },
        { id: 12, text: "Ice cream was served at an important __________ for an American president", correct: "ball" },
        { id: 13, text: "__________ of ice cream could be seen on the streets in 18th-century Naples", correct: "vendors" },
        { id: 14, text: "Before 1843, ice cream had an unpleasant __________ because it wasn't stirred", correct: "texture" },
        { id: 15, text: "Nancy Johnson's freezer included a __________ to turn a cylinder", correct: "handle" },
        { id: 16, text: "20th-century production methods allowed a reduction in the __________ of commercially sold ice cream", correct: "price" }
      ]
    }
  ]
};

/* =======================
   RENDER
   ======================= */
document.getElementById('title').textContent = CONFIG.title;
document.getElementById('subtitle').textContent = CONFIG.subtitle || '';

const qroot = document.getElementById('qroot');
const navIds = [];
const answersMap = {};

function sectionHeader(t){ const h=document.createElement('h2'); h.className='qsection'; h.textContent=t; return h; }

/* T/F/NG renderer */
function renderTFNG(sec){
  qroot.appendChild(sectionHeader(sec.heading));
  (sec.instructions||[]).forEach(tx=>{ const p=document.createElement('p'); p.className='muted'; p.textContent=tx; qroot.appendChild(p); });
  sec.items.forEach(it=>{
    const b=document.createElement('div'); b.className='qblock'; b.id=`anchor-${it.id}`;
    const opts=['TRUE','FALSE','NOT GIVEN'].map(v=>`<label><input type="radio" name="q${it.id}" value="${v}"> ${v}</label>`).join('');
    b.innerHTML=`<div class="qhead"><strong>${it.id}.</strong> ${it.text}</div><div class="options">${opts}</div>`;
    qroot.appendChild(b); navIds.push(it.id); answersMap[it.id]=it.correct||'';
  });
}

/* Completion renderer */
function renderCompletion(sec){
  qroot.appendChild(sectionHeader(sec.heading));
  (sec.instructions||[]).forEach(tx=>{ const p=document.createElement('p'); p.className='muted'; p.textContent=tx; qroot.appendChild(p); });
  if(sec.title){ const h3=document.createElement('h3'); h3.textContent=sec.title; qroot.appendChild(h3); }
  sec.items.forEach(it=>{
    const b=document.createElement('div'); b.className='qblock'; b.id=`anchor-${it.id}`;
    b.innerHTML=`<div class="qhead"><strong>${it.id}.</strong> ${it.text}</div><div class="options"><input type="text" id="q${it.id}" name="q${it.id}" placeholder="Enter your answer"></div>`;
    qroot.appendChild(b); navIds.push(it.id); answersMap[it.id]=it.correct||'';
  });
}

/* Build UI */
CONFIG.sections.forEach(sec=>{
  if (sec.type==='tfng') renderTFNG(sec);
  if (sec.type==='completion') renderCompletion(sec);
});

/* Footer chips */
const footerNav=document.getElementById('footerNav');
(function(){
  if(!CONFIG.showFooterNavigator){ footerNav.style.display='none'; return; }
  footerNav.innerHTML='<strong class="muted">Questions:</strong>';
  [...new Set(navIds)].sort((a,b)=>a-b).forEach(id=>{
    const chip=document.createElement('button'); chip.className='chip'; chip.id=`chip-${id}`; chip.textContent=id;
    chip.addEventListener('click',()=>{ document.getElementById(`anchor-${id}`).scrollIntoView({behavior:'smooth',block:'center'}); });
    footerNav.appendChild(chip);
  });
})();
function markChipAnswered(id, answered){
  const chip=document.getElementById(`chip-${id}`); if(chip) chip.classList.toggle('answered', !!answered);
}
document.addEventListener('change',(e)=>{
  const m=String(e.target.name||e.target.id||'').match(/q(\d+)/);
  const id=m?+m[1]:null; if(!id) return;
  const answered=(e.target.type==='radio') ? (!!document.querySelector(`input[name='q${id}']:checked`))
                 : (e.target.value.trim().length>0);
  markChipAnswered(id, answered);
});

/* Timer */
let timeLeft=Math.max(1,+CONFIG.durationMinutes||20)*60;
const timer=document.getElementById('timer');
const pauseBtn=document.getElementById('pauseBtn');
const resumeBtn=document.getElementById('resumeBtn');
let paused=false, iv;
const fmt=s=>`${String(Math.floor(s/60)).padStart(2,'0')}:${String(s%60).padStart(2,'0')}`;
function startTick(){ if(iv) clearInterval(iv);
  iv=setInterval(()=>{ if(paused) return; timer.textContent=fmt(timeLeft); if(timeLeft<=0){ clearInterval(iv); alert("Time's up! Submitting."); submit(); } timeLeft--; },1000);
}
timer.textContent=fmt(timeLeft); startTick();
pauseBtn.addEventListener('click',()=>{ paused=true; pauseBtn.disabled=true; resumeBtn.disabled=false; });
resumeBtn.addEventListener('click',()=>{ paused=false; pauseBtn.disabled=false; resumeBtn.disabled=true; });

/* Submit & grading */
document.getElementById('submitBtn').addEventListener('click', submit);
function submit(){
  paused=true; pauseBtn.disabled=true; resumeBtn.disabled=false;
  let total=0, graded=0, correctCount=0;
  const itemsOut=[];
  const ids=Object.keys(answersMap);

  ids.forEach(key=>{
    const ans=answersMap[key];
    const label=key;
    let user='';
    const picked=document.querySelector(`input[name="q${key}"]:checked`);
    if(picked){ user=picked.value; }
    else if(document.getElementById('q'+key)){ user=document.getElementById('q'+key).value; }
    const shown=user||'No answer';

    if(String(ans).trim()===''){ total++; itemsOut.push({label, status:'‚Äî not graded ‚Äî', user:shown, correct:'(no key)'}); return; }

    total++; graded++;
    const ok = shown.trim().toLowerCase() === String(ans).trim().toLowerCase();
    if(ok) correctCount++;
    itemsOut.push({label, status: ok? '‚úì Correct' : '‚úó Incorrect', user:shown, correct:String(ans)});
  });

  document.getElementById('score').innerHTML = `Graded ${graded} of ${total} ‚Ä¢ Score: ${correctCount}/${graded}`;
  document.getElementById('answers').innerHTML = itemsOut.map(it=>`<li class="${/Correct/.test(it.status)?'ok':'bad'}">Q${it.label}: ${it.status} ‚Äî Your: <b>${it.user}</b> | Correct: <b>${it.correct}</b></li>`).join('');
  const r=document.getElementById('results'); r.style.display='block'; r.scrollIntoView({behavior:'smooth'});
}

/* Highlights */
const passageCard=document.getElementById('passageCard');
const pPalette=document.getElementById('pPalette');
passageCard.addEventListener('mouseup',(e)=>{
  const sel=window.getSelection(); if(!sel||sel.toString().trim().length===0) return;
  if(!passageCard.contains(sel.getRangeAt(0).commonAncestorContainer)) return;
  const r=passageCard.getBoundingClientRect(), x=Math.min(e.clientX-r.left,r.width-10), y=Math.max(0,e.clientY-r.top-40);
  pPalette.style.left=(r.left+x)+'px'; pPalette.style.top=(r.top+y)+'px'; pPalette.style.display='block';
});
document.addEventListener('mousedown',(e)=>{ if(!pPalette.contains(e.target)) pPalette.style.display='none'; });
pPalette.querySelectorAll('.hbtn[data-color]').forEach(btn=>{
  btn.addEventListener('click',()=>{ markSelection(btn.dataset.color, passageCard); pPalette.style.display='none'; });
});
document.getElementById('clearPMarks').addEventListener('click',()=>{
  passageCard.querySelectorAll('span.highlight').forEach(n=>{ const p=n.parentNode; while(n.firstChild) p.insertBefore(n.firstChild,n); p.removeChild(n); p.normalize(); });
  pPalette.style.display='none';
});

/* Questions highlight */
const qCard=document.querySelector('.card.questions');
const qPalette=document.getElementById('qPalette');
qCard.addEventListener('mouseup',(e)=>{
  const sel=window.getSelection(); if(!sel||sel.toString().trim().length===0) return;
  if(!qCard.contains(sel.getRangeAt(0).commonAncestorContainer)) return;
  const node = sel.getRangeAt(0).commonAncestorContainer.nodeType===1 ? sel.getRangeAt(0).commonAncestorContainer : sel.getRangeAt(0).commonAncestorContainer.parentNode;
  if (node.closest && node.closest('input,textarea,select')) return;
  const r=qCard.getBoundingClientRect(), x=Math.min(e.clientX-r.left,r.width-10), y=Math.max(0,e.clientY-r.top-40);
  qPalette.style.left=(r.left+x)+'px'; qPalette.style.top=(r.top+y)+'px'; qPalette.style.display='block';
});
document.addEventListener('mousedown',(e)=>{ if(!qPalette.contains(e.target)) qPalette.style.display='none'; });
qPalette.querySelectorAll('.hbtn[data-color]').forEach(btn=>{
  btn.addEventListener('click',()=>{ markSelection(btn.dataset.color, qCard); qPalette.style.display='none'; });
});
document.getElementById('clearQMarks').addEventListener('click',()=>{
  qCard.querySelectorAll('span.highlight').forEach(n=>{ const p=n.parentNode; while(n.firstChild) p.insertBefore(n.firstChild,n); p.removeChild(n); p.normalize(); });
  qPalette.style.display='none';
});

/* Helper */
function markSelection(color, scope){
  const sel=window.getSelection(); if(!sel||!sel.rangeCount) return;
  const range=sel.getRangeAt(0);
  if(!scope.contains(range.commonAncestorContainer)) return;
  const container=range.commonAncestorContainer.nodeType===1? range.commonAncestorContainer : range.commonAncestorContainer.parentNode;
  if (container.closest && container.closest('input, textarea, select')) return;
  const frag=range.extractContents();
  const span=document.createElement('span'); span.className='highlight'; span.style.backgroundColor=color; span.appendChild(frag);
  range.insertNode(span); sel.removeAllRanges();
}

/* TG button */
document.querySelector('.tg').addEventListener('click',()=>window.open(CONFIG.telegramLink,'_blank'));
</script>
</body>
</html>